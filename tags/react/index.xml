<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>react - æ ‡ç­¾ - è‚‰è›‹è‘±é¸¡è‚‰ç²¥ğŸ›çš„åšå®¢â˜•</title>
        <link>http://example.org/tags/react/</link>
        <description>react - æ ‡ç­¾ - è‚‰è›‹è‘±é¸¡è‚‰ç²¥ğŸ›çš„åšå®¢â˜•</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>1336352883@qq.com (yzuxqz)</managingEditor>
            <webMaster>1336352883@qq.com (yzuxqz)</webMaster><lastBuildDate>Sat, 04 Sep 2021 17:01:53 &#43;0800</lastBuildDate><atom:link href="http://example.org/tags/react/" rel="self" type="application/rss+xml" /><item>
    <title>c5é¡¹ç›®ç»éªŒ</title>
    <link>http://example.org/posts/c5-react%E9%A1%B9%E7%9B%AE%E7%BB%8F%E9%AA%8C/</link>
    <pubDate>Sat, 04 Sep 2021 17:01:53 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>http://example.org/posts/c5-react%E9%A1%B9%E7%9B%AE%E7%BB%8F%E9%AA%8C/</guid>
    <description><![CDATA[<h3 id="antdçš„globalå…¨å±€æ ·å¼ä¿®æ”¹">antdçš„globalå…¨å±€æ ·å¼ä¿®æ”¹</h3>
<p>åœ¨umi.tsä¸­å¼•å…¥çš„å…¨å±€lessæ–‡ä»¶ä¿®æ”¹é»˜è®¤æ ·å¼æ—¶ä¸éœ€è¦å†™globalï¼Œåœ¨ç»„ä»¶ä¸­å•ç‹¬ä½¿ç”¨lessæ–‡ä»¶æ—¶ç”¨styles.xxxï¼Œæ­¤æ—¶æµè§ˆå™¨ä¼šå¯¹classåè¿›è¡Œç¼–è¯‘</p>
<h3 id="antd3xä¸­çš„tooltipæ²¡æœ‰colorå±æ€§å¦‚ä½•æ”¹å˜èƒŒæ™¯è‰²">antd3.xä¸­çš„tooltipæ²¡æœ‰colorå±æ€§å¦‚ä½•æ”¹å˜èƒŒæ™¯è‰²</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">ant</span><span class="o">-</span><span class="nx">tooltip</span><span class="o">-</span><span class="nx">arrow</span><span class="o">::</span><span class="nx">before</span><span class="p">{</span> <span class="c1">//ç®­å¤´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">background</span><span class="o">-</span><span class="nx">color</span><span class="o">:</span> <span class="err">#</span><span class="nx">FFFFFF</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">ant</span><span class="o">-</span><span class="nx">tooltip</span><span class="o">-</span><span class="nx">inner</span><span class="p">{</span>  <span class="c1">//æ¡†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">background</span><span class="o">-</span><span class="nx">color</span><span class="o">:</span> <span class="err">#</span><span class="nx">ffffff</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">padding</span><span class="o">:</span> <span class="mi">14</span><span class="nx">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="tooltipæ²¡æœ‰æŒ‚è½½åˆ°çˆ¶å…ƒç´ æˆ–æŒ‚è½½åˆ°çˆ¶å…ƒç´ åæ ·å¼å‡ºé”™">tooltipæ²¡æœ‰æŒ‚è½½åˆ°çˆ¶å…ƒç´ ï¼Œæˆ–æŒ‚è½½åˆ°çˆ¶å…ƒç´ åæ ·å¼å‡ºé”™</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">getPopupContainer</span><span class="o">=</span><span class="p">{</span><span class="nx">node</span> <span class="p">=&gt;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;modalContent&#39;</span><span class="p">)}</span>
</span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item><item>
    <title>reactæ‰©å±•</title>
    <link>http://example.org/posts/react%E6%89%A9%E5%B1%95/</link>
    <pubDate>Thu, 02 Sep 2021 10:42:53 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>http://example.org/posts/react%E6%89%A9%E5%B1%95/</guid>
    <description><![CDATA[<h2 id="1-setstate">1. setState</h2>
<h3 id="setstateæ›´æ–°çŠ¶æ€çš„2ç§å†™æ³•">setStateæ›´æ–°çŠ¶æ€çš„2ç§å†™æ³•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">	(1). setState(stateChange, [callback])------å¯¹è±¡å¼çš„setState
</span></span><span class="line"><span class="cl">            1.stateChangeä¸ºçŠ¶æ€æ”¹å˜å¯¹è±¡(è¯¥å¯¹è±¡å¯ä»¥ä½“ç°å‡ºçŠ¶æ€çš„æ›´æ”¹)
</span></span><span class="line"><span class="cl">            2.callbackæ˜¯å¯é€‰çš„å›è°ƒå‡½æ•°, å®ƒåœ¨çŠ¶æ€æ›´æ–°å®Œæ¯•ã€ç•Œé¢ä¹Ÿæ›´æ–°å(renderè°ƒç”¨å)æ‰è¢«è°ƒç”¨
</span></span><span class="line"><span class="cl">					
</span></span><span class="line"><span class="cl">	(2). setState(updater, [callback])------å‡½æ•°å¼çš„setState
</span></span><span class="line"><span class="cl">            1.updaterä¸ºè¿”å›stateChangeå¯¹è±¡çš„å‡½æ•°ã€‚
</span></span><span class="line"><span class="cl">            2.updaterå¯ä»¥æ¥æ”¶åˆ°stateå’Œpropsã€‚
</span></span><span class="line"><span class="cl">            4.callbackæ˜¯å¯é€‰çš„å›è°ƒå‡½æ•°, å®ƒåœ¨çŠ¶æ€æ›´æ–°ã€ç•Œé¢ä¹Ÿæ›´æ–°å(renderè°ƒç”¨å)æ‰è¢«è°ƒç”¨ã€‚
</span></span><span class="line"><span class="cl">æ€»ç»“:
</span></span><span class="line"><span class="cl">		1.å¯¹è±¡å¼çš„setStateæ˜¯å‡½æ•°å¼çš„setStateçš„ç®€å†™æ–¹å¼(è¯­æ³•ç³–)
</span></span><span class="line"><span class="cl">		2.ä½¿ç”¨åŸåˆ™ï¼š
</span></span><span class="line"><span class="cl">				(1).å¦‚æœæ–°çŠ¶æ€ä¸ä¾èµ–äºåŸçŠ¶æ€ ===&gt; ä½¿ç”¨å¯¹è±¡æ–¹å¼
</span></span><span class="line"><span class="cl">				(2).å¦‚æœæ–°çŠ¶æ€ä¾èµ–äºåŸçŠ¶æ€ ===&gt; ä½¿ç”¨å‡½æ•°æ–¹å¼
</span></span><span class="line"><span class="cl">				(3).å¦‚æœéœ€è¦åœ¨setState()æ‰§è¡Œåè·å–æœ€æ–°çš„çŠ¶æ€æ•°æ®, 
</span></span><span class="line"><span class="cl">					è¦åœ¨ç¬¬äºŒä¸ªcallbackå‡½æ•°ä¸­è¯»å–
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">//ç¬¬äºŒç§ , æœ‰ä¸¤ç§å†™æ³• åŒºåˆ«åœ¨äºæ‹¬å·
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">((</span><span class="nx">preState</span><span class="p">,</span> <span class="nx">props</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="p">{</span><span class="nx">isAuthenticated</span><span class="o">:</span> <span class="nx">props</span><span class="p">.</span><span class="nx">isAuthen</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">});</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">((</span><span class="nx">preState</span><span class="p">,</span> <span class="nx">props</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">({</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">isAuthenticated</span><span class="o">:</span> <span class="o">!</span><span class="nx">preState</span><span class="p">.</span><span class="nx">isAuthenticated</span>
</span></span><span class="line"><span class="cl">                <span class="p">}));</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="2-lazyload">2. lazyLoad</h2>
<h3 id="è·¯ç”±ç»„ä»¶çš„lazyload">è·¯ç”±ç»„ä»¶çš„lazyLoad</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">	<span class="c1">//1.é€šè¿‡Reactçš„lazyå‡½æ•°é…åˆimport()å‡½æ•°åŠ¨æ€åŠ è½½è·¯ç”±ç»„ä»¶ ===&gt; è·¯ç”±ç»„ä»¶ä»£ç ä¼šè¢«åˆ†å¼€æ‰“åŒ…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kr">const</span> <span class="nx">Login</span> <span class="o">=</span> <span class="nx">lazy</span><span class="p">(()=&gt;</span><span class="kr">import</span><span class="p">(</span><span class="s1">&#39;@/pages/Login&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="c1">//2.é€šè¿‡&lt;Suspense&gt;æŒ‡å®šåœ¨åŠ è½½å¾—åˆ°è·¯ç”±æ‰“åŒ…æ–‡ä»¶å‰æ˜¾ç¤ºä¸€ä¸ªè‡ªå®šä¹‰loadingç•Œé¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="o">&lt;</span><span class="nx">Suspense</span> <span class="nx">fallback</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">loading</span><span class="p">.....</span><span class="o">&lt;</span><span class="err">/h1&gt;}&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">path</span><span class="o">=</span><span class="s2">&#34;/xxx&#34;</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Xxxx</span><span class="p">}</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="nx">Redirect</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&#34;/login&#34;</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/Switch&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/Suspense&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="3-hooks">3. Hooks</h2>
<h4 id="1-react-hookhooksæ˜¯ä»€ä¹ˆ">1. React Hook/Hooksæ˜¯ä»€ä¹ˆ?</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">(1). Hookæ˜¯React 16.8.0ç‰ˆæœ¬å¢åŠ çš„æ–°ç‰¹æ€§/æ–°è¯­æ³•
</span></span><span class="line"><span class="cl">(2). å¯ä»¥è®©ä½ åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2-ä¸‰ä¸ªå¸¸ç”¨çš„hook">2. ä¸‰ä¸ªå¸¸ç”¨çš„Hook</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">(1). State Hook: React.useState()
</span></span><span class="line"><span class="cl">(2). Effect Hook: React.useEffect()
</span></span><span class="line"><span class="cl">(3). Ref Hook: React.useRef()
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="3-state-hook">3. State Hook</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">(1). State Hookè®©å‡½æ•°ç»„ä»¶ä¹Ÿå¯ä»¥æœ‰stateçŠ¶æ€, å¹¶è¿›è¡ŒçŠ¶æ€æ•°æ®çš„è¯»å†™æ“ä½œ
</span></span><span class="line"><span class="cl">(2). è¯­æ³•: const [xxx, setXxx] = React.useState(initValue)  
</span></span><span class="line"><span class="cl">(3). useState()è¯´æ˜:
</span></span><span class="line"><span class="cl">        å‚æ•°: ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æŒ‡å®šçš„å€¼åœ¨å†…éƒ¨ä½œç¼“å­˜
</span></span><span class="line"><span class="cl">        è¿”å›å€¼: åŒ…å«2ä¸ªå…ƒç´ çš„æ•°ç»„, ç¬¬1ä¸ªä¸ºå†…éƒ¨å½“å‰çŠ¶æ€å€¼, ç¬¬2ä¸ªä¸ºæ›´æ–°çŠ¶æ€å€¼çš„å‡½æ•°
</span></span><span class="line"><span class="cl">(4). setXxx()2ç§å†™æ³•:
</span></span><span class="line"><span class="cl">        setXxx(newValue): å‚æ•°ä¸ºéå‡½æ•°å€¼, ç›´æ¥æŒ‡å®šæ–°çš„çŠ¶æ€å€¼, å†…éƒ¨ç”¨å…¶è¦†ç›–åŸæ¥çš„çŠ¶æ€å€¼
</span></span><span class="line"><span class="cl">        setXxx(value =&gt; newValue): å‚æ•°ä¸ºå‡½æ•°, æ¥æ”¶åŸæœ¬çš„çŠ¶æ€å€¼, è¿”å›æ–°çš„çŠ¶æ€å€¼, å†…éƒ¨ç”¨å…¶è¦†ç›–åŸæ¥çš„çŠ¶æ€å€¼
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="4-effect-hook">4. Effect Hook</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">(1). Effect Hook å¯ä»¥è®©ä½ åœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œ(ç”¨äºæ¨¡æ‹Ÿç±»ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­)
</span></span><span class="line"><span class="cl">(2). Reactä¸­çš„å‰¯ä½œç”¨æ“ä½œ:
</span></span><span class="line"><span class="cl">        å‘ajaxè¯·æ±‚æ•°æ®è·å–
</span></span><span class="line"><span class="cl">        è®¾ç½®è®¢é˜… / å¯åŠ¨å®šæ—¶å™¨
</span></span><span class="line"><span class="cl">        æ‰‹åŠ¨æ›´æ”¹çœŸå®DOM
</span></span><span class="line"><span class="cl">(3). è¯­æ³•å’Œè¯´æ˜: 
</span></span><span class="line"><span class="cl">        useEffect(() =&gt; { 
</span></span><span class="line"><span class="cl">          // åœ¨æ­¤å¯ä»¥æ‰§è¡Œä»»ä½•å¸¦å‰¯ä½œç”¨æ“ä½œ
</span></span><span class="line"><span class="cl">          return () =&gt; { // åœ¨ç»„ä»¶å¸è½½å‰æ‰§è¡Œ
</span></span><span class="line"><span class="cl">            // åœ¨æ­¤åšä¸€äº›æ”¶å°¾å·¥ä½œ, æ¯”å¦‚æ¸…é™¤å®šæ—¶å™¨/å–æ¶ˆè®¢é˜…ç­‰
</span></span><span class="line"><span class="cl">          }
</span></span><span class="line"><span class="cl">        }, [stateValue]) // å¦‚æœæŒ‡å®šçš„æ˜¯[], å›è°ƒå‡½æ•°åªä¼šåœ¨ç¬¬ä¸€æ¬¡render()åæ‰§è¡Œ
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">(4). å¯ä»¥æŠŠ useEffect Hook çœ‹åšå¦‚ä¸‹ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆ
</span></span><span class="line"><span class="cl">        componentDidMount()
</span></span><span class="line"><span class="cl">        componentDidUpdate()
</span></span><span class="line"><span class="cl">    	componentWillUnmount() 
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="5-ref-hook">5. Ref Hook</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">(1). Ref Hookå¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­å­˜å‚¨/æŸ¥æ‰¾ç»„ä»¶å†…çš„æ ‡ç­¾æˆ–ä»»æ„å…¶å®ƒæ•°æ®
</span></span><span class="line"><span class="cl">(2). è¯­æ³•: const refContainer = useRef()
</span></span><span class="line"><span class="cl">(3). ä½œç”¨:ä¿å­˜æ ‡ç­¾å¯¹è±¡,åŠŸèƒ½ä¸React.createRef()ä¸€æ ·
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="4-fragment">4. Fragment</h2>
<h3 id="ä½¿ç”¨">ä½¿ç”¨</h3>
<pre><code>&lt;Fragment&gt;&lt;Fragment&gt;
&lt;&gt;&lt;/&gt;
</code></pre>
<h3 id="ä½œç”¨">ä½œç”¨</h3>
<blockquote>
<p>å¯ä»¥ä¸ç”¨å¿…é¡»æœ‰ä¸€ä¸ªçœŸå®çš„DOMæ ¹æ ‡ç­¾äº†</p>
</blockquote>
<hr/>
<h2 id="5-context">5. Context</h2>
<h3 id="ç†è§£">ç†è§£</h3>
<blockquote>
<p>ä¸€ç§ç»„ä»¶é—´é€šä¿¡æ–¹å¼, å¸¸ç”¨äºã€ç¥–ç»„ä»¶ã€‘ä¸ã€åä»£ç»„ä»¶ã€‘é—´é€šä¿¡</p>
</blockquote>
<h3 id="ä½¿ç”¨-1">ä½¿ç”¨</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="mi">1</span><span class="p">)</span> <span class="nx">åˆ›å»ºContextå®¹å™¨å¯¹è±¡</span><span class="err">ï¼š</span>
</span></span><span class="line"><span class="cl">	<span class="kr">const</span> <span class="nx">XxxContext</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createContext</span><span class="p">()</span>  
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="p">)</span> <span class="nx">æ¸²æŸ“å­ç»„æ—¶</span><span class="err">ï¼Œ</span><span class="nx">å¤–é¢åŒ…è£¹xxxContext</span><span class="p">.</span><span class="nx">Provider</span><span class="p">,</span> <span class="nx">é€šè¿‡valueå±æ€§ç»™åä»£ç»„ä»¶ä¼ é€’æ•°æ®</span><span class="err">ï¼š</span>
</span></span><span class="line"><span class="cl">	<span class="o">&lt;</span><span class="nx">xxxContext</span><span class="p">.</span><span class="nx">Provider</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">æ•°æ®</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nx">å­ç»„ä»¶</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/xxxContext.Provider&gt;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="mi">3</span><span class="p">)</span> <span class="nx">åä»£ç»„ä»¶è¯»å–æ•°æ®</span><span class="err">ï¼š</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//ç¬¬ä¸€ç§æ–¹å¼:ä»…é€‚ç”¨äºç±»ç»„ä»¶ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	  <span class="kr">static</span> <span class="nx">contextType</span> <span class="o">=</span> <span class="nx">xxxContext</span>  <span class="c1">// å£°æ˜æ¥æ”¶context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	  <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="c1">// è¯»å–contextä¸­çš„valueæ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	  
</span></span><span class="line"><span class="cl">	<span class="c1">//ç¬¬äºŒç§æ–¹å¼: å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶éƒ½å¯ä»¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	  <span class="o">&lt;</span><span class="nx">xxxContext</span><span class="p">.</span><span class="nx">Consumer</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">	    <span class="p">{</span>
</span></span><span class="line"><span class="cl">	      <span class="nx">value</span> <span class="p">=&gt;</span> <span class="p">(</span> <span class="c1">// valueå°±æ˜¯contextä¸­çš„valueæ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	        <span class="nx">è¦æ˜¾ç¤ºçš„å†…å®¹</span>
</span></span><span class="line"><span class="cl">	      <span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">}</span>
</span></span><span class="line"><span class="cl">	  <span class="o">&lt;</span><span class="err">/xxxContext.Consumer&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ³¨æ„">æ³¨æ„</h3>
<pre><code>åœ¨åº”ç”¨å¼€å‘ä¸­ä¸€èˆ¬ä¸ç”¨context, ä¸€èˆ¬éƒ½ç”¨å®ƒçš„å°è£…reactæ’ä»¶
</code></pre>
<hr/>
<h2 id="6-ç»„ä»¶ä¼˜åŒ–">6. ç»„ä»¶ä¼˜åŒ–</h2>
<h3 id="componentçš„2ä¸ªé—®é¢˜">Componentçš„2ä¸ªé—®é¢˜</h3>
<blockquote>
<ol>
<li>
<p>åªè¦æ‰§è¡ŒsetState(),å³ä½¿ä¸æ”¹å˜çŠ¶æ€æ•°æ®, ç»„ä»¶ä¹Ÿä¼šé‡æ–°render() ==&gt; æ•ˆç‡ä½</p>
</li>
<li>
<p>åªå½“å‰ç»„ä»¶é‡æ–°render(), å°±ä¼šè‡ªåŠ¨é‡æ–°renderå­ç»„ä»¶ï¼Œçºµä½¿å­ç»„ä»¶æ²¡æœ‰ç”¨åˆ°çˆ¶ç»„ä»¶çš„ä»»ä½•æ•°æ® ==&gt; æ•ˆç‡ä½</p>
</li>
</ol>
</blockquote>
<h3 id="æ•ˆç‡é«˜çš„åšæ³•">æ•ˆç‡é«˜çš„åšæ³•</h3>
<blockquote>
<p>åªæœ‰å½“ç»„ä»¶çš„stateæˆ–propsæ•°æ®å‘ç”Ÿæ”¹å˜æ—¶æ‰é‡æ–°render()</p>
</blockquote>
<h3 id="åŸå› ">åŸå› </h3>
<blockquote>
<p>Componentä¸­çš„shouldComponentUpdate()æ€»æ˜¯è¿”å›true</p>
</blockquote>
<h3 id="è§£å†³">è§£å†³</h3>
<pre><code>åŠæ³•1: 
	é‡å†™shouldComponentUpdate()æ–¹æ³•
	æ¯”è¾ƒæ–°æ—§stateæˆ–propsæ•°æ®, å¦‚æœæœ‰å˜åŒ–æ‰è¿”å›true, å¦‚æœæ²¡æœ‰è¿”å›false
åŠæ³•2:  
	ä½¿ç”¨PureComponent
	PureComponenté‡å†™äº†shouldComponentUpdate(), åªæœ‰stateæˆ–propsæ•°æ®æœ‰å˜åŒ–æ‰è¿”å›true
	æ³¨æ„: 
		åªæ˜¯è¿›è¡Œstateå’Œpropsæ•°æ®çš„æµ…æ¯”è¾ƒ, å¦‚æœåªæ˜¯æ•°æ®å¯¹è±¡å†…éƒ¨æ•°æ®å˜äº†, è¿”å›false  
		ä¸è¦ç›´æ¥ä¿®æ”¹stateæ•°æ®, è€Œæ˜¯è¦äº§ç”Ÿæ–°æ•°æ®
é¡¹ç›®ä¸­ä¸€èˆ¬ä½¿ç”¨PureComponentæ¥ä¼˜åŒ–
</code></pre>
<hr/>
<h2 id="7-render-props">7. render props</h2>
<p></p>
<h3 id="å¦‚ä½•å‘ç»„ä»¶å†…éƒ¨åŠ¨æ€ä¼ å…¥å¸¦å†…å®¹çš„ç»“æ„æ ‡ç­¾">å¦‚ä½•å‘ç»„ä»¶å†…éƒ¨åŠ¨æ€ä¼ å…¥å¸¦å†…å®¹çš„ç»“æ„(æ ‡ç­¾)?</h3>
<pre><code>Vueä¸­: 
	ä½¿ç”¨slotæŠ€æœ¯, ä¹Ÿå°±æ˜¯é€šè¿‡ç»„ä»¶æ ‡ç­¾ä½“ä¼ å…¥ç»“æ„  &lt;A&gt;&lt;B/&gt;&lt;/A&gt;
Reactä¸­:
	ä½¿ç”¨children props: é€šè¿‡ç»„ä»¶æ ‡ç­¾ä½“ä¼ å…¥ç»“æ„
	ä½¿ç”¨render props: é€šè¿‡ç»„ä»¶æ ‡ç­¾å±æ€§ä¼ å…¥ç»“æ„,è€Œä¸”å¯ä»¥æºå¸¦æ•°æ®ï¼Œä¸€èˆ¬ç”¨renderå‡½æ•°å±æ€§
</code></pre>
<h3 id="children-props">children props</h3>
<pre><code>&lt;A&gt;
  &lt;B&gt;xxxx&lt;/B&gt;
&lt;/A&gt;
{this.props.children}
é—®é¢˜: å¦‚æœBç»„ä»¶éœ€è¦Aç»„ä»¶å†…çš„æ•°æ®, ==&gt; åšä¸åˆ° 
</code></pre>
<h3 id="render-props">render props</h3>
<pre><code>&lt;A render={(data) =&gt; &lt;C data={data}&gt;&lt;/C&gt;}&gt;&lt;/A&gt;
Aç»„ä»¶: {this.props.render(å†…éƒ¨stateæ•°æ®)}
Cç»„ä»¶: è¯»å–Aç»„ä»¶ä¼ å…¥çš„æ•°æ®æ˜¾ç¤º {this.props.data} 
</code></pre>
<hr/>
<h2 id="8-é”™è¯¯è¾¹ç•Œ">8. é”™è¯¯è¾¹ç•Œ</h2>
<h4 id="ç†è§£-1">ç†è§£ï¼š</h4>
<p>é”™è¯¯è¾¹ç•Œ(Error boundary)ï¼šç”¨æ¥æ•è·åä»£ç»„ä»¶é”™è¯¯ï¼Œæ¸²æŸ“å‡ºå¤‡ç”¨é¡µé¢</p>
<h4 id="ç‰¹ç‚¹">ç‰¹ç‚¹ï¼š</h4>
<p>åªèƒ½æ•è·åä»£ç»„ä»¶ç”Ÿå‘½å‘¨æœŸäº§ç”Ÿçš„é”™è¯¯ï¼Œä¸èƒ½æ•è·è‡ªå·±ç»„ä»¶äº§ç”Ÿçš„é”™è¯¯å’Œå…¶ä»–ç»„ä»¶åœ¨åˆæˆäº‹ä»¶ã€å®šæ—¶å™¨ä¸­äº§ç”Ÿçš„é”™è¯¯</p>
<h5 id="ä½¿ç”¨æ–¹å¼">ä½¿ç”¨æ–¹å¼ï¼š</h5>
<p>getDerivedStateFromErroré…åˆcomponentDidCatch</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä¸€æ—¦åå°ç»„ä»¶æŠ¥é”™ï¼Œå°±ä¼šè§¦å‘
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">static</span> <span class="nx">getDerivedStateFromError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// åœ¨renderä¹‹å‰è§¦å‘
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// è¿”å›æ–°çš„state
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">hasError</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">componentDidCatch</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">info</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ç»Ÿè®¡é¡µé¢çš„é”™è¯¯ã€‚å‘é€è¯·æ±‚å‘é€åˆ°åå°å»
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">info</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="9-ç»„ä»¶é€šä¿¡æ–¹å¼æ€»ç»“">9. ç»„ä»¶é€šä¿¡æ–¹å¼æ€»ç»“</h2>
<h4 id="ç»„ä»¶é—´çš„å…³ç³»">ç»„ä»¶é—´çš„å…³ç³»ï¼š</h4>
<ul>
<li>çˆ¶å­ç»„ä»¶</li>
<li>å…„å¼Ÿç»„ä»¶ï¼ˆéåµŒå¥—ç»„ä»¶ï¼‰</li>
<li>ç¥–å­™ç»„ä»¶ï¼ˆè·¨çº§ç»„ä»¶ï¼‰</li>
</ul>
<h4 id="å‡ ç§é€šä¿¡æ–¹å¼">å‡ ç§é€šä¿¡æ–¹å¼ï¼š</h4>
<pre><code>	1.propsï¼š
		(1).children props
		(2).render props
	2.æ¶ˆæ¯è®¢é˜…-å‘å¸ƒï¼š
		pubs-subã€eventç­‰ç­‰
	3.é›†ä¸­å¼ç®¡ç†ï¼š
		reduxã€dvaç­‰ç­‰
	4.conText:
		ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼
</code></pre>
<h4 id="æ¯”è¾ƒå¥½çš„æ­é…æ–¹å¼">æ¯”è¾ƒå¥½çš„æ­é…æ–¹å¼ï¼š</h4>
<pre><code>	çˆ¶å­ç»„ä»¶ï¼šprops
	å…„å¼Ÿç»„ä»¶ï¼šæ¶ˆæ¯è®¢é˜…-å‘å¸ƒã€é›†ä¸­å¼ç®¡ç†
	ç¥–å­™ç»„ä»¶(è·¨çº§ç»„ä»¶)ï¼šæ¶ˆæ¯è®¢é˜…-å‘å¸ƒã€é›†ä¸­å¼ç®¡ç†ã€conText(å¼€å‘ç”¨çš„å°‘ï¼Œå°è£…æ’ä»¶ç”¨çš„å¤š)
</code></pre>
]]></description>
</item><item>
    <title>react&#43;ts</title>
    <link>http://example.org/posts/react&#43;ts/</link>
    <pubDate>Sat, 21 Aug 2021 10:42:53 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>http://example.org/posts/react&#43;ts/</guid>
    <description><![CDATA[<h1 id="åˆå§‹åŒ–ä¸é…ç½®">åˆå§‹åŒ–ä¸é…ç½®</h1>
<h2 id="åˆå§‹åŒ–reacttsé¡¹ç›®">åˆå§‹åŒ–react+tsé¡¹ç›®</h2>
<p>create-react-app xxx &ndash;template typescript</p>
<h2 id="è§„èŒƒé…ç½®">è§„èŒƒé…ç½®</h2>
<ol>
<li>
<p>åœ¨å¼•å…¥æ–‡ä»¶æ—¶ç›´æ¥ä½¿ç”¨æ ¹è·¯å¾„ï¼šåœ¨tsconfig.jsonä¸­é…ç½®baseUrlä¸º&rsquo;./src'</p>
</li>
<li>
<p>prettieré…ç½®ä»£ç è‡ªåŠ¨æ ¼å¼åŒ–ï¼šhttps://prettier.io/</p>
<ul>
<li>
<p>npm install &ndash;save-dev &ndash;save-exact prettier</p>
</li>
<li>
<p>æ–°å»º.prettierrc.json</p>
</li>
<li>
<p>æ–°å»º.prettierignoreï¼Œå¿½ç•¥buildï¼Œcoverage</p>
</li>
<li>
<p>ä¸ºäº†åœ¨commitä¹‹å‰è‡ªåŠ¨æ ¼å¼åŒ–ï¼šnpx mrm lint-stagedï¼Œpackage.jsonä¸­é…ç½®æ‰©å±•å</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;husky&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;hooks&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;pre-commit&#34;</span><span class="p">:</span> <span class="s2">&#34;lint-staged&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="err">,</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;lint-staged&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;*.{js,css,md,ts,tsx}&#34;</span><span class="p">:</span> <span class="s2">&#34;prettier --write&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ä¸ºäº†é¿å…å’Œeslintå†²çª</p>
<p>npm install eslint-config-prettier -D</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl">  <span class="s2">&#34;eslintConfig&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;extends&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;react-app&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;react-app/jest&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;prettier&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p>commitæäº¤è§„èŒƒï¼šcommitlint</p>
</li>
</ol>
<h2 id="mockæ–¹æ¡ˆé…ç½®">MOCKæ–¹æ¡ˆé…ç½®</h2>
<ul>
<li>
<p>npm install json-server -g</p>
</li>
<li>
<p>npm install json-server -D</p>
</li>
<li>
<p>scriptä¸­é…ç½®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"> <span class="s2">&#34;json-server&#34;</span><span class="err">:</span><span class="s2">&#34;json-server __json_server_mock__/db.json --watch&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h1 id="project-list">project-list</h1>
<ul>
<li>
<p>çŠ¶æ€æå‡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">qs</span> <span class="nx">from</span> <span class="s1">&#39;qs&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">SearchPanel</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;./search-panel&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">List</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;./list&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useState</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">cleanObject</span><span class="p">,</span><span class="nx">useDebounce</span><span class="p">,</span><span class="nx">useMount</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;../../utils&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">ProjectListScreen</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">users</span><span class="p">,</span> <span class="nx">setUsers</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([])</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">param</span><span class="p">,</span> <span class="nx">setParam</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">personId</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">debounceParam</span><span class="o">=</span> <span class="nx">useDebounce</span><span class="p">(</span><span class="nx">param</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">list</span><span class="p">,</span> <span class="nx">setList</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([])</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//å½“ç”¨æˆ·è¾“å…¥å…³é”®è¯æˆ–é€‰æ‹©selectæ¡†ï¼Œparamå˜åŒ–
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fetch</span><span class="p">(</span><span class="sb">`http://localhost:3000/projects?</span><span class="si">${</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">cleanObject</span><span class="p">(</span><span class="nx">debounceParam</span><span class="p">))</span><span class="si">}</span><span class="sb">`</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kr">async</span> <span class="nx">response</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">setList</span><span class="p">(</span><span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span> <span class="p">[</span><span class="nx">debounceParam</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">useMount</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;http://localhost:3000/users&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kr">async</span> <span class="nx">response</span><span class="p">=&gt;{</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="nx">setUsers</span><span class="p">(</span><span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">SearchPanel</span> <span class="na">param</span><span class="o">=</span><span class="p">{</span><span class="nx">param</span><span class="p">}</span> <span class="na">users</span><span class="o">=</span><span class="p">{</span><span class="nx">users</span><span class="p">}</span> <span class="na">setParam</span><span class="o">=</span><span class="p">{</span><span class="nx">setParam</span><span class="p">}/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">List</span> <span class="na">list</span><span class="o">=</span><span class="p">{</span><span class="nx">list</span><span class="p">}</span> <span class="na">users</span><span class="o">=</span><span class="p">{</span><span class="nx">users</span><span class="p">}/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>hooks</p>
</li>
<li>
<p>clearObject</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">isFalsy</span> <span class="o">=</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="o">!</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œæ”¹å˜ä¼ å…¥çš„å¯¹è±¡æœ¬èº«æ˜¯ä¸å¥½çš„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">cleanObject</span> <span class="o">=</span> <span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">object</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">result</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">key</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">result</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">isFalsy</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">delete</span> <span class="nx">result</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h1 id="customhooks">customhooks</h1>
<ul>
<li>
<p>useMount</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">export const useMount = (callback) =&gt; {
</span></span><span class="line"><span class="cl">  useEffect(() =&gt; {
</span></span><span class="line"><span class="cl">    callback();
</span></span><span class="line"><span class="cl">  }, []);
</span></span><span class="line"><span class="cl">};
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>useDebounce</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">useDebounce</span> <span class="o">=</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">delay</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">newValue</span><span class="p">,</span> <span class="nx">setNewValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//æ¯æ¬¡åœ¨valueå˜åŒ–ä»¥åï¼Œè®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">timer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">setNewValue</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span> <span class="mi">2000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//æ¯æ¬¡åœ¨ä¸Šä¸€ä¸ªuseEffectå¤„ç†å®Œä»¥åå†è¿è¡Œï¼Œç¬¬ä¸€ä¸ªeffectçš„timerè¢«ç¬¬äºŒä¸ªeffectæ¸…ç†ï¼Œæœ€åä¸€ä¸ªæ— äººæ¸…ç†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span> <span class="p">[</span><span class="nx">value</span><span class="p">,</span> <span class="nx">delay</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">newValue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>more in reacthooks_learn</p>
</li>
</ul>
<h1 id="ts">ts</h1>
<ul>
<li>more in typescript_learn</li>
</ul>
]]></description>
</item><item>
    <title>react</title>
    <link>http://example.org/posts/react/</link>
    <pubDate>Sun, 15 Aug 2021 10:42:53 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>http://example.org/posts/react/</guid>
    <description><![CDATA[<h1 id="reactå…¥é—¨">Reactå…¥é—¨</h1>
<h2 id="ç›¸å…³jsåº“">ç›¸å…³jsåº“</h2>
<p>1.react.jsï¼šReactæ ¸å¿ƒåº“</p>
<p>2.react-dom.jsï¼šæä¾›æ“ä½œDOMçš„reactæ‰©å±•åº“</p>
<p>3.babel.min.jsï¼šè§£æJSXè¯­æ³•ä»£ç è½¬ä¸ºJSä»£ç åº“</p>
<p>4.prop-types.jsï¼šç”¨äºå¯¹ç»„ä»¶æ ‡ç­¾å±æ€§è¿›è¡Œé™åˆ¶</p>
<h2 id="åˆ›å»ºè™šæ‹Ÿdomçš„ä¸¤ç§æ–¹å¼">åˆ›å»ºè™šæ‹ŸDOMçš„ä¸¤ç§æ–¹å¼</h2>
<h3 id="ä½¿ç”¨jsxåˆ›å»ºè™šæ‹Ÿdom">ä½¿ç”¨jsxåˆ›å»ºè™šæ‹ŸDOM</h3>
<ul>
<li>ä¸å†™å¼•å·ï¼Œç›´æ¥å†™æ ‡ç­¾</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/babel&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//1. åˆ›å»ºè™šæ‹Ÿdom
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">VDOM</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">id</span><span class="o">=</span><span class="s2">&#34;title&#34;</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span><span class="nx">React</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//2. æ¸²æŸ“è™šæ‹Ÿdomåˆ°é¡µé¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">VDOM</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ä½¿ç”¨jsåˆ›å»ºè™šæ‹Ÿdom">ä½¿ç”¨jsåˆ›å»ºè™šæ‹ŸDOM</h3>
<ul>
<li>React.createElementï¼ˆæ ‡ç­¾åï¼Œæ ‡ç­¾å±æ€§ï¼Œæ ‡ç­¾å†…å®¹ï¼‰ï¼Œ==ä¸€èˆ¬ä¸ç”¨====ï¼Œå› ä¸ºåµŒå¥—è¿‡äºéº»çƒ¦==</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//1. åˆ›å»ºè™šæ‹Ÿdom
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">VDOM</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">,{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;title&#39;</span><span class="p">},</span><span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">,{},</span><span class="s1">&#39;å†…å®¹&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//2. æ¸²æŸ“è™šæ‹Ÿdomåˆ°é¡µé¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">VDOM</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å…³äºè™šæ‹Ÿdom">å…³äºè™šæ‹ŸDOM</h2>
<ol>
<li>æœ¬è´¨æ˜¯Objectç±»å‹çš„å¯¹è±¡</li>
<li>è™šæ‹ŸDOMæ¯”è¾ƒâ€œè½»â€ï¼ŒçœŸå®DOMæ¯”è¾ƒâ€œé‡â€ï¼Œå› ä¸ºè™šæ‹ŸDOMæ˜¯Reactå†…éƒ¨åœ¨ç”¨ï¼Œæ— éœ€çœŸå®DOMä¸Šçš„é‚£ä¹ˆå¤šå±æ€§</li>
<li>è™šæ‹ŸDOMæœ€ç»ˆä¼šè¢«Reactè½¬ä¸ºçœŸå®DOMï¼Œå‘ˆç°åœ¨é¡µé¢ä¸Š</li>
</ol>
<h2 id="jsxè¯­æ³•è§„åˆ™">JSXè¯­æ³•è§„åˆ™</h2>
<ol>
<li>å®šäºè™šæ‹ŸDOMï¼Œä¸ç”¨å†™å¼•å·</li>
<li>æ ‡ç­¾ä¸­æ··å…¥JSè¡¨è¾¾å¼æ—¶è¦ç”¨{}</li>
<li>æ ·å¼çš„ç±»åæŒ‡å®šä¸è¦ç”¨classï¼Œè¦ç”¨className</li>
<li>å†…è”æ ·å¼è¦ç”¨style={{key:value}}çš„å½¢å¼å»å†™</li>
<li>åªæœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾</li>
<li>æ ‡ç­¾å¿…é¡»é—­åˆ</li>
<li>æ ‡ç­¾é¦–å­—ç¬¦
<ul>
<li>è‹¥å°å†™å­—æ¯å¼€å¤´ï¼Œåˆ™å°†æ ‡ç­¾æ”¹ä¸ºhtmlä¸­åŒåçš„å…ƒç´ ï¼Œè‹¥htmlä¸­æ²¡æœ‰æ”¹æ ‡ç­¾å¯¹åº”çš„åŒåå…ƒç´ ï¼Œåˆ™æŠ¥é”™</li>
<li>è‹¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œreactä¼šå»æ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ï¼Œè‹¥ç»„ä»¶æ²¡æœ‰å®šä¹‰ï¼Œåˆ™æŠ¥é”™</li>
</ul>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Angular&#39;</span><span class="p">,</span> <span class="s1">&#39;React&#39;</span><span class="p">,</span> <span class="s1">&#39;Vue&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//1. åˆ›å»ºè™šæ‹Ÿdom
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">VDOM</span> <span class="o">=</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span><span class="nx">React</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// mapä¼šæœ‰è¿”å›å€¼ï¼Œforeachä¼šä¿®æ”¹åŸæ¥çš„æ•°ç»„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">index</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">item</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//2. æ¸²æŸ“è™šæ‹Ÿdomåˆ°é¡µé¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">VDOM</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="jsè¡¨è¾¾å¼ä¸jsè¯­å¥">JSè¡¨è¾¾å¼ä¸JSè¯­å¥</h2>
<h3 id="è¡¨è¾¾å¼">è¡¨è¾¾å¼</h3>
<p>ä¸€ä¸ªè¡¨è¾¾å¼ä¼šäº§ç”Ÿä¸€ä¸ªå€¼ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•ä¸€ä¸ªéœ€è¦å€¼å¾—åœ°æ–¹</p>
<ul>
<li>a</li>
<li>a+b</li>
<li>demo(1)</li>
<li>arr.map()</li>
<li>function test(){}</li>
</ul>
<h3 id="è¯­å¥ä»£ç ">è¯­å¥(ä»£ç )</h3>
<ul>
<li>if(){}</li>
<li>for(){}</li>
<li>switch(){case:xxxx}</li>
</ul>
<h1 id="reacté¢å‘ç»„ä»¶ç¼–ç¨‹">Reacté¢å‘ç»„ä»¶ç¼–ç¨‹</h1>
<h2 id="æ¨¡å—ä¸ç»„ä»¶">æ¨¡å—ä¸ç»„ä»¶</h2>
<h3 id="æ¨¡å—">æ¨¡å—</h3>
<ol>
<li>
<p>ç†è§£ï¼šå‘å¤–æä¾›ç‰¹å®šåŠŸèƒ½çš„jsç¨‹åº, ä¸€èˆ¬å°±æ˜¯ä¸€ä¸ªjsæ–‡ä»¶</p>
</li>
<li>
<p>ä¸ºä»€ä¹ˆè¦æ‹†æˆæ¨¡å—ï¼šéšç€ä¸šåŠ¡é€»è¾‘å¢åŠ ï¼Œä»£ç è¶Šæ¥è¶Šå¤šä¸”å¤æ‚ã€‚</p>
</li>
<li>
<p>ä½œç”¨ï¼šå¤ç”¨js, ç®€åŒ–jsçš„ç¼–å†™, æé«˜jsè¿è¡Œæ•ˆç‡</p>
</li>
</ol>
<h3 id="ç»„ä»¶">ç»„ä»¶</h3>
<ol>
<li>
<p>ç†è§£ï¼šç”¨æ¥å®ç°å±€éƒ¨åŠŸèƒ½æ•ˆæœçš„ä»£ç å’Œèµ„æºçš„é›†åˆ(html/css/js/imageç­‰ç­‰)</p>
</li>
<li>
<p>ä¸ºä»€ä¹ˆè¦ç”¨ç»„ä»¶ï¼š ä¸€ä¸ªç•Œé¢çš„åŠŸèƒ½æ›´å¤æ‚</p>
</li>
<li>
<p>ä½œç”¨ï¼šå¤ç”¨ç¼–ç , ç®€åŒ–é¡¹ç›®ç¼–ç , æé«˜è¿è¡Œæ•ˆç‡</p>
</li>
</ol>
<h2 id="æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–">æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–</h2>
<h3 id="æ¨¡å—åŒ–">æ¨¡å—åŒ–</h3>
<p>å½“åº”ç”¨çš„jséƒ½ä»¥æ¨¡å—æ¥ç¼–å†™ï¼Œè¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„åº”ç”¨</p>
<h3 id="ç»„ä»¶åŒ–">ç»„ä»¶åŒ–</h3>
<p>å½“åº”ç”¨æ˜¯ä»¥å¤šç»„ä»¶çš„æ–¹å¼å®ç°ï¼Œè¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–çš„åº”ç”¨</p>
<h2 id="reactä¸­å®šä¹‰ç»„ä»¶">Reactä¸­å®šä¹‰ç»„ä»¶</h2>
<h3 id="å‡½æ•°å¼ç»„ä»¶">å‡½æ•°å¼ç»„ä»¶</h3>
<ol>
<li>å£°åå‡½æ•°ï¼Œå‡½æ•°åé¦–å­—æ¯å¤§å†™</li>
<li>è¿”å›JSX</li>
<li>renderä¸­æ¸²æŸ“ç»„ä»¶<Demo/></li>
</ol>
<p>==æ³¨æ„==ï¼šå‡½æ•°ç»„ä»¶ä¸­çš„thisä¸ºundefinedï¼Œå› ä¸ºbabelç¼–è¯‘åå¼€å¯äº†ä¸¥æ ¼æ¨¡å¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//1.å£°åå‡½æ•°å¼ç»„ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kd">function</span> <span class="nx">Demo</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="c1">//undefined(babelç¼–è¯‘åå¼€å¯äº†ä¸¥æ ¼æ¨¡å¼)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">æˆ‘æ˜¯ç”¨å‡½æ•°å®šä¹‰çš„ç»„ä»¶</span><span class="err">ï¼ˆ</span><span class="nx">é€‚ç”¨äºç®€å•ç»„ä»¶çš„å®šä¹‰</span><span class="err">ï¼‰</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">//2.æ¸²æŸ“ç»„ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Demo</span><span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// æ‰§è¡Œäº†ReactDOM.render()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">//   1.Reactè§£æç»„ä»¶æ ‡ç­¾ï¼Œæ‰¾åˆ°äº†MyComponentç»„ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">//   2.å‘ç°ç»„ä»¶æ˜¯ä½¿ç”¨å‡½æ•°å®šä¹‰çš„ï¼Œéšåè°ƒç”¨äº†å‡½æ•°ï¼Œå°†è¿”å›çš„è™šæ‹ŸDOMè½¬ä¸ºçœŸå®DOMï¼Œéšåå‘ˆç°åœ¨é¡µé¢ä¸­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç±»å¼ç»„ä»¶">ç±»å¼ç»„ä»¶</h3>
<ol>
<li>ç»§æ‰¿è‡ªReact.Component</li>
<li>renderä¸­çš„thisæ‰§å‘ç»„ä»¶å®ä¾‹å¯¹è±¡,ä¸å†æ˜¯babelè§£æåçš„undefined</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//åˆ›å»ºç±»å¼ç»„ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">class</span> <span class="nx">MyComponent</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="c1">//renderä¸­çš„thisï¼Ÿ--MyComponentçš„å®ä¾‹å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="c1">//renderæ˜¯æ”¾åœ¨å“ªé‡Œçš„ï¼Ÿ--MyComponentçš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹ä½¿ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">æˆ‘æ˜¯ç”¨ç±»å®šä¹‰çš„ç»„ä»¶</span><span class="err">ï¼ˆ</span><span class="nx">é€‚ç”¨äºå¤æ‚ç»„ä»¶çš„å®šä¹‰</span><span class="err">ï¼‰</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">MyComponent</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">  * æ‰§è¡Œäº†ReactDOM.render(&lt;MyComponent/&gt;)ä¹‹åï¼Œå‘ç”Ÿäº†ä»€ä¹ˆ
</span></span></span><span class="line"><span class="cl"><span class="cm">  * 1.Reactè§£æç»„ä»¶æ ‡ç­¾ï¼Œæ‰¾åˆ°Componentç»„ä»¶
</span></span></span><span class="line"><span class="cl"><span class="cm">  * 2.å‘ç°ç»„ä»¶æ˜¯ä½¿ç”¨ç±»å®šä¹‰çš„ï¼Œéšånewå‡ºæ¥è¯¥ç±»çš„å®ä¾‹ï¼Œå¹¶é€šè¿‡è¯¥å®ä¾‹è°ƒç”¨åˆ°åŸå‹ä¸Šçš„renderæ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="cm">  * 3.å°†renderè¿”å›çš„è™šæ‹ŸDOMè½¬ä¸ºçœŸå®DOMï¼Œéšåå‘ˆç°åœ¨é¡µé¢ä¸­
</span></span></span><span class="line"><span class="cl"><span class="cm">  * */</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§å±æ€§">ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§å±æ€§</h2>
<h3 id="state">state</h3>
<ol>
<li>stateæ˜¯ç»„ä»¶å¯¹è±¡æœ€é‡è¦çš„å±æ€§, å€¼æ˜¯å¯¹è±¡(å¯ä»¥åŒ…å«å¤šä¸ªkey-valueçš„ç»„åˆ)</li>
<li>ç»„ä»¶è¢«ç§°ä¸º&quot;çŠ¶æ€æœº&quot;, é€šè¿‡æ›´æ–°ç»„ä»¶çš„stateæ¥æ›´æ–°å¯¹åº”çš„é¡µé¢æ˜¾ç¤º(é‡æ–°æ¸²æŸ“ç»„ä»¶)</li>
<li>åœ¨stateè¢«ä¿®æ”¹æ—¶ä¼šè°ƒç”¨render</li>
</ol>
<p>==æ³¨æ„==ï¼š</p>
<ol>
<li>
<p>ç»„ä»¶ä¸­renderæ–¹æ³•ä¸­çš„thisä¸ºç»„ä»¶å®ä¾‹å¯¹è±¡</p>
</li>
<li>
<p>ç»„ä»¶è‡ªå®šä¹‰çš„æ–¹æ³•ä¸­thisä¸ºundefinedï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</p>
<ul>
<li>
<p>å¼ºåˆ¶ç»‘å®šthis: é€šè¿‡å‡½æ•°å¯¹è±¡çš„bind()</p>
</li>
<li>
<p>èµ‹å€¼è¯­å¥+ç®­å¤´å‡½æ•°ï¼ˆå¼€å‘å¸¸ç”¨ï¼‰</p>
</li>
</ul>
</li>
<li>
<p>çŠ¶æ€æ•°æ®ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹æˆ–æ›´æ–°</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">class</span> <span class="nx">Weather</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// åˆå§‹åŒ–çŠ¶æ€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="p">{</span><span class="nx">isHot</span><span class="o">:</span><span class="kc">false</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="p">{</span><span class="nx">isHot</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// ä½¿ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">ä»Šå¤©å¤©æ°”å¾ˆ</span><span class="p">{</span><span class="nx">isHot</span><span class="o">?</span><span class="s1">&#39;ç‚çƒ­&#39;</span><span class="o">:</span><span class="s1">&#39;å‡‰çˆ½&#39;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Weather</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="è·å–stateä¸­çš„å€¼">è·å–stateä¸­çš„å€¼</h4>
<h5 id="ç±»ä¸­æ–¹æ³•ä¸­çš„this">ç±»ä¸­æ–¹æ³•ä¸­çš„this</h5>
<ol>
<li>ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ä¼šè‡ªåŠ¨å¼€å¯==å±€éƒ¨ä¸¥æ ¼æ¨¡å¼==</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">class</span> <span class="nx">Student</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">say</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// é»˜è®¤use strict
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">s1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Student</span><span class="p">(</span><span class="s1">&#39;xqz&#39;</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">s1</span><span class="p">.</span><span class="nx">say</span><span class="p">()</span> <span class="c1">//thisæŒ‡å‘Studentå®ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kd">let</span> <span class="nx">say</span> <span class="o">=</span> <span class="nx">s1</span><span class="p">.</span><span class="nx">say</span>
</span></span><span class="line"><span class="cl">  <span class="nx">say</span><span class="p">()</span> <span class="c1">//thisä¸ºundefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="reactç»„ä»¶ç±»ä¸­çš„this">Reactç»„ä»¶ç±»ä¸­çš„this</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">class</span> <span class="nx">Weather</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="p">{</span><span class="nx">isHot</span><span class="o">:</span><span class="kc">false</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="p">{</span><span class="nx">isHot</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">changeWeather</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">ä»Šå¤©å¤©æ°”å¾ˆ</span><span class="p">{</span><span class="nx">isHot</span><span class="o">?</span><span class="s1">&#39;ç‚çƒ­&#39;</span><span class="o">:</span><span class="s1">&#39;å‡‰çˆ½&#39;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">changeWeather</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// åªè¦é€šè¿‡weatherçš„å®ä¾‹å¯¹è±¡å»è°ƒç”¨äº†changeWeatherï¼Œé‚£ä¹ˆthiså°±æ˜¯å®ä¾‹å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// ç”±äºchangeWeatheræ˜¯ä½œä¸ºonClickçš„å›è°ƒï¼Œ ä¸æ˜¯é€šè¿‡å®ä¾‹è°ƒç”¨çš„ï¼Œæ˜¯ç›´æ¥è°ƒç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">// ç±»ä¸­çš„æ–¹æ³•å¼€å¯äº†å±€éƒ¨çš„ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥thisä¸ºundefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Weather</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="å¦‚ä½•è§£å†³">å¦‚ä½•è§£å†³</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">class</span> <span class="nx">Weather</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="p">{</span><span class="nx">isHot</span><span class="o">:</span><span class="kc">false</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// this.changeWeatheræ˜¯åŸå‹ä¸Šçš„æ–¹æ³•ï¼Œé€šè¿‡bindï¼Œå°†thisæŒ‡å‘å®ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// demoä¸ºå®ä¾‹ä¸Šçš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠåŸå‹ä¸Šçš„changeWeatheræ–¹æ³•å¤åˆ»ä¸€ä»½ï¼Œä¿®æ”¹thisåæ·»åŠ åˆ°å®ä¾‹èº«ä¸Š,ç›¸å½“äºé‡å†™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      	<span class="c1">// åœ¨renderæ–¹æ³•ä¸­è°ƒç”¨çš„æ˜¯å®ä¾‹èº«ä¸Šçš„æ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">this</span><span class="p">.</span><span class="nx">changeWeather</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">changeWeather</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="p">{</span><span class="nx">isHot</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">changeWeather</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">ä»Šå¤©å¤©æ°”å¾ˆ</span><span class="p">{</span><span class="nx">isHot</span><span class="o">?</span><span class="s1">&#39;ç‚çƒ­&#39;</span><span class="o">:</span><span class="s1">&#39;å‡‰çˆ½&#39;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">changeWeather</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Weather</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ä¿®æ”¹stateä¸­çš„å€¼">ä¿®æ”¹stateä¸­çš„å€¼</h4>
<p>React.Component.prototypeä¸­æœ‰setStateæ–¹æ³•ï¼Œé€šè¿‡ç»„ä»¶å®ä¾‹.proto-&gt;ç»„ä»¶ç±».prototype-&gt;React.Componentçˆ¶ç±»çš„prototypeä¸­å¯»æ‰¾åˆ°</p>
<ol>
<li>constructorè°ƒç”¨ä¸€æ¬¡</li>
<li>renderè°ƒç”¨å¤šæ¬¡</li>
<li>changeWeatherç‚¹å‡ æ¬¡è°ƒç”¨å‡ æ¬¡</li>
</ol>
<p>==æ³¨æ„==ï¼š</p>
<ol>
<li>thiså¿…é¡»åœ¨è°ƒç”¨äº†superä¹‹åæ‰æœ‰</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">class</span> <span class="nx">Weather</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="p">{</span><span class="nx">isHot</span><span class="o">:</span><span class="kc">false</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">changeWeather</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">changeWeather</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="p">{</span><span class="nx">isHot</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">changeWeather</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">ä»Šå¤©å¤©æ°”å¾ˆ</span><span class="p">{</span><span class="nx">isHot</span><span class="o">?</span><span class="s1">&#39;ç‚çƒ­&#39;</span><span class="o">:</span><span class="s1">&#39;å‡‰çˆ½&#39;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">changeWeather</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="p">{</span><span class="nx">isHot</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">      <span class="c1">//æ³¨æ„ï¼šçŠ¶æ€ä¸å¯ç›´æ¥æ›´æ”¹ï¼Œè¦å€ŸåŠ©å†…ç½®API
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">isHot</span><span class="o">:!</span><span class="nx">isHot</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Weather</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="stateçš„ç®€å†™å½¢å¼">stateçš„ç®€å†™å½¢å¼</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">class</span> <span class="nx">Weather</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// æ­¤æ—¶stateåœ¨æ¯ä¸€ä¸ªå®ä¾‹è‡ªèº«
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">state</span> <span class="o">=</span> <span class="p">{</span><span class="nx">isHot</span><span class="o">:</span> <span class="kc">false</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="p">{</span><span class="nx">isHot</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">changeWeather</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">ä»Šå¤©å¤©æ°”å¾ˆ</span><span class="p">{</span><span class="nx">isHot</span> <span class="o">?</span> <span class="s1">&#39;ç‚çƒ­&#39;</span> <span class="o">:</span> <span class="s1">&#39;å‡‰çˆ½&#39;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// æ­¤æ—¶æ–¹æ³•å’Œstateä¸€æ ·ï¼Œç”¨èµ‹å€¼è¯­å¥ï¼Œæˆäº†å®ä¾‹è‡ªèº«çš„ä¸€ä¸ªå±æ€§ï¼Œç”¨ç®­å¤´å‡½æ•°ï¼ŒthisæŒ‡å‘Weatherå®ä¾‹ï¼Œå¦åˆ™æ™®é€šå‡½æ•°thisä¸ºundefinedã€‚å¦‚æœä¸ç”¨èµ‹å€¼è¯­å¥ï¼Œé‚£ä¹ˆå‡½æ•°æ˜¯åœ¨åŸå‹ä¸Šçš„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">changeWeather</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="p">{</span><span class="nx">isHot</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">isHot</span><span class="o">:</span> <span class="o">!</span><span class="nx">isHot</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Weather</span><span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="props">props</h3>
<h4 id="propsçš„åŸºæœ¬ä½¿ç”¨">propsçš„åŸºæœ¬ä½¿ç”¨</h4>
<p>ç»„ä»¶å®ä¾‹ä¸Šæœ‰propså±æ€§</p>
<p>==æ³¨æ„==ï¼š</p>
<ol>
<li>propsæ˜¯åªè¯»çš„ï¼Œä¿®æ”¹ä¼šæŠ¥é”™</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">class</span> <span class="nx">Person</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//è·å–å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kr">const</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span><span class="nx">age</span><span class="p">,</span><span class="nx">sex</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">å§“å</span><span class="o">:</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">æ€§åˆ«</span><span class="o">:</span><span class="p">{</span><span class="nx">age</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">å¹´é¾„</span><span class="o">:</span><span class="p">{</span><span class="nx">sex</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//ä¼ å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Person</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&#34;xqz&#34;</span> <span class="nx">age</span><span class="o">=</span><span class="s2">&#34;20&#34;</span> <span class="nx">sex</span><span class="o">=</span><span class="s2">&#34;man&#34;</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="propsæ‰¹é‡ä¼ é€’">propsæ‰¹é‡ä¼ é€’</h4>
<p>ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ä¼ é€’</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">class</span> <span class="nx">Person</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span><span class="nx">age</span><span class="p">,</span><span class="nx">sex</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">å§“å</span><span class="o">:</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">æ€§åˆ«</span><span class="o">:</span><span class="p">{</span><span class="nx">age</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">å¹´é¾„</span><span class="o">:</span><span class="p">{</span><span class="nx">sex</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;è€åˆ˜&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;å¥³&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//è¿™é‡Œçš„...på¹¶ä¸æ˜¯å¤åˆ¶å¯¹è±¡ï¼ŒåŸç”Ÿä¸­ä¸èƒ½ç”¨å±•å¼€è¿ç®—ç¬¦æ“ä½œå¯¹è±¡ï¼Œä½†æ˜¯è¿™é‡Œæœ‰react.development.jså’Œbabelæ‰€ä»¥å¯ä»¥ï¼Œä½†æ˜¯ä¸èƒ½éšæ„ä½¿ç”¨ï¼Œä»…ä»…é€‚ç”¨äºæ ‡ç­¾å±æ€§çš„ä¼ é€’ï¼Œè¿™é‡Œçš„{}åªæ˜¯ä»£è¡¨é‡Œé¢è¦å†™jsè¡¨è¾¾å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Person</span> <span class="p">{...</span><span class="nx">p</span><span class="p">}</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="å¯¹propsè¿›è¡Œé™åˆ¶">å¯¹propsè¿›è¡Œé™åˆ¶</h4>
<ol>
<li>
<p>ç»„ä»¶ç±»çš„proTypeså±æ€§ï¼ˆreactæ¨¡å—é‡Œçš„è¦æ±‚ï¼‰ï¼šå¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ï¼Œå¿…è¦æ€§çš„é™åˆ¶</p>
</li>
<li>
<p>PropTypesæ˜¯å› ä¸ºå¼•å…¥äº†prop-types.jsæ¨¡å—</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ï¼Œå¿…è¦æ€§çš„é™åˆ¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Person</span><span class="p">.</span><span class="nx">propTypes</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">name</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">.</span><span class="nx">isRequired</span><span class="p">,</span> <span class="c1">//é™åˆ¶nameå¿…ä¼ ï¼Œä¸”ä¸ºå­—ç¬¦ä¸²
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">sex</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">age</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">speak</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">func</span> <span class="c1">//é™åˆ¶speakä¸ºfunction
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ç»„ä»¶ç±»çš„defaultPropså±æ€§ï¼šæŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Person</span><span class="p">.</span><span class="nx">defaultProps</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;ä¸ç”·ä¸å¥³&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">age</span><span class="o">:</span><span class="mi">18</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ä½¿ç”¨ç»„ä»¶æ—¶ä¼ é€’</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;è€åˆ˜&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Person</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&#34;xqz&#34;</span> <span class="nx">age</span><span class="o">=</span><span class="p">{</span><span class="mi">19</span><span class="p">}</span> <span class="nx">sex</span><span class="o">=</span><span class="s2">&#34;man&#34;</span> <span class="nx">speak</span><span class="o">=</span><span class="p">{</span><span class="nx">speak</span><span class="p">}</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test2&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">speak</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h4 id="propsç®€å†™">propsç®€å†™</h4>
<p>å°†propTypeså’ŒdefaultPropsè®¾ç½®ä¸ºç»„ä»¶ç±»çš„é™æ€å±æ€§</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Person</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ï¼Œå¿…è¦æ€§çš„é™åˆ¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">static</span> <span class="nx">propTypes</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">.</span><span class="nx">isRequired</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="nx">sex</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">age</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">speak</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">func</span> 
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">static</span> <span class="nx">defaultProps</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;ä¸ç”·ä¸å¥³&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">age</span><span class="o">:</span><span class="mi">18</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span><span class="nx">age</span><span class="p">,</span><span class="nx">sex</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// this.props.name = &#39;xqz&#39; //æŠ¥é”™ï¼Œå› ä¸ºpropsæ˜¯åªè¯»çš„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">å§“å</span><span class="o">:</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">æ€§åˆ«</span><span class="o">:</span><span class="p">{</span><span class="nx">age</span><span class="o">+</span><span class="mi">1</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">å¹´é¾„</span><span class="o">:</span><span class="p">{</span><span class="nx">sex</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props">å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props</h4>
<ol>
<li>ç»„ä»¶ä¼ é€’æ–¹å¼ä¸å˜ï¼Œé€šè¿‡å‚æ•°æ¥æ”¶</li>
<li>å¯¹propsçš„é™åˆ¶å’Œé»˜è®¤å€¼åªèƒ½å†™åœ¨å‡½æ•°å¤–é¢</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">props</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span><span class="nx">age</span><span class="p">,</span><span class="nx">sex</span><span class="p">}</span> <span class="o">=</span> <span class="nx">props</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">å§“å</span><span class="o">:</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">æ€§åˆ«</span><span class="o">:</span><span class="p">{</span><span class="nx">age</span><span class="o">+</span><span class="mi">1</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">å¹´é¾„</span><span class="o">:</span><span class="p">{</span><span class="nx">sex</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ï¼Œå¿…è¦æ€§çš„é™åˆ¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">Person</span><span class="p">.</span><span class="nx">propTypes</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">.</span><span class="nx">isRequired</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sex</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">age</span><span class="o">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">Person</span><span class="p">.</span><span class="nx">defaultProps</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;ä¸ç”·ä¸å¥³&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">age</span><span class="o">:</span><span class="mi">18</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Person</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&#34;xqz&#34;</span> <span class="nx">age</span><span class="o">=</span><span class="p">{</span><span class="mi">19</span><span class="p">}</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test2&#39;</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="refsä¸äº‹ä»¶å¤„ç†">refsä¸äº‹ä»¶å¤„ç†</h3>
<h4 id="stringç±»å‹çš„refå·²è¿‡æ—¶">stringç±»å‹çš„refï¼ˆå·²è¿‡æ—¶ï¼‰</h4>
<ol>
<li>ç›´æ¥åœ¨æ ‡ç­¾ä¸Šå®šä¹‰refï¼Œé€šè¿‡this.refsä½¿ç”¨</li>
<li>ä¼šæœ‰æ•ˆç‡é—®é¢˜ï¼Œå·²ç»è¿‡æ—¶</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">Â Â <span class="kr">class</span>Â <span class="nx">Demo</span>Â <span class="kr">extends</span>Â <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">Â Â Â Â <span class="nx">showData</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â <span class="kr">const</span>Â <span class="p">{</span><span class="nx">input1</span><span class="p">}</span>Â <span class="o">=</span>Â <span class="k">this</span><span class="p">.</span><span class="nx">refs</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">input1</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">Â Â Â Â <span class="p">}</span>
</span></span><span class="line"><span class="cl">Â Â Â Â <span class="nx">showData2</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â <span class="kr">const</span>Â <span class="p">{</span><span class="nx">input2</span><span class="p">}</span>Â <span class="o">=</span>Â <span class="k">this</span><span class="p">.</span><span class="nx">refs</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">input2</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">Â Â Â Â <span class="p">}</span>
</span></span><span class="line"><span class="cl">Â Â Â Â <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â <span class="k">return</span>Â <span class="p">(</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â Â Â <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â Â Â Â Â <span class="o">&lt;</span><span class="nx">input</span>Â <span class="nx">ref</span><span class="o">=</span><span class="s2">&#34;input1&#34;</span>Â <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">showData</span><span class="p">}</span>Â <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span>Â <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&#34;ç‚¹å‡»æç¤º&#34;</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â Â Â Â Â <span class="o">&lt;</span><span class="nx">button</span>Â <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">showData</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">ç‚¹å‡»</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â Â Â Â Â <span class="o">&lt;</span><span class="nx">input</span>Â <span class="nx">ref</span><span class="o">=</span><span class="s2">&#34;input2&#34;</span>Â <span class="nx">onBlur</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">showData2</span><span class="p">}</span>Â <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span>Â <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&#34;å¤±å»ç„¦ç‚¹æç¤º&#34;</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â Â Â <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">Â Â Â Â Â Â <span class="p">)</span>
</span></span><span class="line"><span class="cl">Â Â Â Â <span class="p">}</span>
</span></span><span class="line"><span class="cl">Â Â <span class="p">}</span>
</span></span><span class="line"><span class="cl">Â Â <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Demo</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="å›è°ƒå‡½æ•°å½¢å¼çš„refs">å›è°ƒå‡½æ•°å½¢å¼çš„refs</h4>
<h5 id="å†…è”çš„å†™æ³•å¼€å‘å¸¸ç”¨">å†…è”çš„å†™æ³•ï¼ˆå¼€å‘å¸¸ç”¨ï¼‰</h5>
<p>åœ¨æ›´æ–°æ—¶ï¼Œrefçš„å›è°ƒä¼šè°ƒç”¨ä¸¤æ¬¡ï¼Œä½†æ˜¯å…¶å®å¹¶æ²¡æœ‰ä»€ä¹ˆå½±å“</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Demo</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">showData</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">input1</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">input1</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">showData2</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">input2</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">input2</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">// è¿™é‡Œçš„å›è°ƒå‡½æ•°ä¼šä¼ ä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°ä¸ºdomèŠ‚ç‚¹ï¼Œthisæ‰§å‘å®ä¾‹ï¼Œåœ¨å®ä¾‹ä¸­æ·»åŠ å±æ€§input1ï¼Œå€¼ä¸ºå®ƒçš„domèŠ‚ç‚¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">c</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">input1</span> <span class="o">=</span> <span class="nx">c</span><span class="p">}</span>  <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">showData</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">ç‚¹å‡»</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">c</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">input2</span> <span class="o">=</span> <span class="nx">c</span><span class="p">}</span> <span class="nx">onBlur</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">showData2</span><span class="p">}</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Demo</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="classç»‘å®šçš„å‡½æ•°å½¢å¼">classç»‘å®šçš„å‡½æ•°å½¢å¼</h5>
<p>åœ¨æ›´æ–°æ—¶ï¼Œrefçš„å‡½æ•°ä¸ä¼šå›è°ƒ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Demo</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nx">state</span> <span class="o">=</span> <span class="p">{</span><span class="nx">isHot</span><span class="o">:</span><span class="kc">true</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">showData</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">input</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">changeWeather</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">isHot</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">isHot</span><span class="o">:!</span><span class="nx">isHot</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//å›è°ƒçš„å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">saveInput</span><span class="o">=</span><span class="p">(</span><span class="nx">c</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                  <span class="c1">//è¿™é‡Œå…¶å®ç”¨onChangeäº‹ä»¶ç„¶åe.targetä¹Ÿå¯ä»¥è·å–ï¼Œç„¶åå­˜å…¥stateä¸­ï¼Œå°±æ˜¯å—æ§ç»„ä»¶äº†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">this</span><span class="p">.</span><span class="nx">input</span> <span class="o">=</span> <span class="nx">c</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;@&#39;</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">isHot</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">ä»Šå¤©å¤©æ°”</span><span class="p">{</span><span class="nx">isHot</span><span class="o">?</span><span class="s1">&#39;ç‚çƒ­&#39;</span><span class="o">:</span><span class="s1">&#39;å‡‰çˆ½&#39;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="c1">// è¿™é‡Œæ›´æ–°æ—¶ä¸ä¼šå›è°ƒä¸¤æ¬¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">saveInput</span> <span class="p">}</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">showData</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">æ˜¾ç¤º</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">changeWeather</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">æ”¹å˜å¤©æ°”</span><span class="o">&lt;</span><span class="err">/button&gt;    </span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Demo</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="createrefçš„ä½¿ç”¨">createRefçš„ä½¿ç”¨</h4>
<ol>
<li>React.createRef()åˆ›å»ºå®¹å™¨ï¼Œæ¯ä¸ªå®¹å™¨åªèƒ½å­˜æ”¾ä¸€ä¸ªèŠ‚ç‚¹</li>
<li>é€šè¿‡this.å®¹å™¨å.currentè·å¾—domèŠ‚ç‚¹</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Demo</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">myRef</span><span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createRef</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="nx">show</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">myRef</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">myRef</span><span class="p">}</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">show</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">æŒ‰é’®</span><span class="o">&lt;</span><span class="err">/button&gt;    </span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Demo</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>==æ³¨æ„==ï¼š</p>
<ol>
<li>ä¸èƒ½æ»¥ç”¨refï¼Œå¦‚æœéœ€è¦è·å–çš„domèŠ‚ç‚¹ä¸Šç»‘å®šäº†äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ä»å‡½æ•°ä¸­è·å–event.target</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Demo</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">show</span><span class="o">=</span><span class="p">(</span><span class="nx">event</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span> <span class="nx">onBlur</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">show</span><span class="p">}</span> <span class="nx">placeholder</span><span class="o">=</span><span class="s1">&#39;å¤±å»ç„¦ç‚¹æç¤º&#39;</span><span class="o">/&gt;</span>    
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Demo</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ç»„ä»¶é€šä¿¡">ç»„ä»¶é€šä¿¡</h2>
<p>==æ³¨æ„==ï¼šçŠ¶æ€åœ¨å“ªé‡Œï¼Œæ“ä½œçŠ¶æ€çš„æ–¹æ³•å°±åœ¨å“ªé‡Œ</p>
<h3 id="çˆ¶ä¼ å­">çˆ¶ä¼ å­</h3>
<p></p>
<h3 id="å­ä¼ çˆ¶">å­ä¼ çˆ¶</h3>
<ol>
<li>
<p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªå‡½æ•°</p>
<p></p>
</li>
<li>
<p>å­ç»„ä»¶è°ƒç”¨è¯¥å‡½æ•°å¹¶ä¼ å‚ï¼Œçˆ¶ç»„ä»¶å°†è¯¥å‡½æ•°çš„å‚æ•°ä¿å­˜åˆ°stateä¸­</p>
<p></p>
</li>
</ol>
<h3 id="çˆ·å­™ä¼ å€¼">çˆ·å­™ä¼ å€¼</h3>
<ol>
<li>çˆ·çˆ·ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’å‡½æ•°</li>
<li>çˆ¶ç»„ä»¶å°†å‡½æ•°ç»§ç»­ä¼ é€’ç»™å­ç»„ä»¶</li>
<li>å­ç»„ä»¶è°ƒç”¨å‡½æ•°ï¼Œä¼ å‚ï¼Œçˆ·çˆ·ç»„ä»¶é€šè¿‡å‚æ•°æ¥æ”¶å€¼</li>
</ol>
<h3 id="å…„å¼Ÿä¼ å€¼">å…„å¼Ÿä¼ å€¼</h3>
<h4 id="æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶">æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶</h4>
<ol>
<li>
<p>å·¥å…·åº“: PubSubJS</p>
</li>
<li>
<p>ä¸‹è½½: npm install pubsub-js &ndash;save</p>
</li>
<li>
<p>ä½¿ç”¨:</p>
<ol>
<li>
<p>import PubSub from &lsquo;pubsub-js&rsquo; //å¼•å…¥</p>
</li>
<li>
<p>PubSub.subscribe(&lsquo;delete&rsquo;, function(data){ }); //è®¢é˜…</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl">    <span class="nx">componentDidMount</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//è®¢é˜…æ¶ˆæ¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">PubSub</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;changeState&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="nx">stateObj</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="nx">stateObj</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>PubSub.publish(&lsquo;delete&rsquo;, data) //å‘å¸ƒæ¶ˆæ¯</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">search</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="p">{</span> <span class="nx">input1</span><span class="o">:</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">keyword</span> <span class="p">}</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//å‘å¸ƒæ¶ˆæ¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">PubSub</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="s1">&#39;changeState&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">isFirst</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">isLoading</span><span class="o">:</span> <span class="kc">true</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="sb">`https://api.github.com/search/users?q=</span><span class="si">${</span><span class="nx">keyword</span><span class="si">}</span><span class="sb">`</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">PubSub</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="s1">&#39;changeState&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">isLoading</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span><span class="nx">users</span><span class="o">:</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">items</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">PubSub</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="s1">&#39;changeState&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">err</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h2 id="reactä¸­çš„æ„é€ å™¨">Reactä¸­çš„æ„é€ å™¨</h2>
<ol>
<li>ç¬¬ä¸€ä¸ªç”¨å¤„ï¼Œé€šè¿‡this.stateèµ‹å€¼å¯¹è±¡æ¥åˆå§‹åŒ–å†…éƒ¨stateï¼Œä½†æ˜¯ä¸€èˆ¬ç›´æ¥åœ¨ç±»ä¸­ä½¿ç”¨èµ‹å€¼è¯­å¥</li>
<li>ç¬¬äºŒä¸ªç”¨å¤„ï¼Œä¸ºäº‹ä»¶ç»‘å®šå®ä¾‹çš„thisï¼Œä½†æ˜¯ä¸€èˆ¬ç”¨èµ‹å€¼è¯­å¥+ç®­å¤´å‡½æ•°è§£å†³</li>
<li>ç¬¬ä¸‰ä¸ªç”¨å¤„ï¼Œéœ€è¦åœ¨constructorä¸­è·å–propsã€‚æ‰€ä»¥ï¼ŒconstructoråŸºæœ¬ä¸ç”¨ï¼Œå¦‚æœç”¨äº†å¿…é¡»å†™super(props)ï¼Œä¸”å¿…é¡»ä¼ propsï¼Œä¸ä¼ å°±ä¸èƒ½åœ¨æ„é€ å™¨ä¸­ä½¿ç”¨this.propsè·å–å€¼</li>
</ol>
<h2 id="reactä¸­çš„äº‹ä»¶ç»‘å®š">Reactä¸­çš„äº‹ä»¶ç»‘å®š</h2>
<ol>
<li>é©¼å³°å‘½å</li>
<li>{}ä¸­å†™å‡½æ•°åï¼Œä¸éœ€è¦è°ƒç”¨</li>
<li>å¯ä»¥å°†äº‹ä»¶å‡½æ•°å†™åœ¨ç»„ä»¶ç±»ä¸­ï¼Œé€šè¿‡èµ‹å€¼è¯­å¥+ç®­å¤´å‡½æ•°ï¼Œç®­å¤´å‡½æ•°ä¸­çš„thisæŒ‡å‘å®ä¾‹ï¼Œå¯ä»¥è·å–stateä¸­çš„å€¼</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">class</span> <span class="nx">Weather</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="p">{</span><span class="nx">isHot</span><span class="o">:</span><span class="kc">false</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// äº‹ä»¶å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">demo2</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">log</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="p">{</span><span class="nx">isHot</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">      <span class="k">return</span> 
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// ç»‘å®šäº‹ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">demo</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">ä»Šå¤©å¤©æ°”å¾ˆ</span><span class="p">{</span><span class="nx">isHot</span><span class="o">?</span><span class="s1">&#39;ç‚çƒ­&#39;</span><span class="o">:</span><span class="s1">&#39;å‡‰çˆ½&#39;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">        	<span class="c1">// ç»‘å®šäº‹ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">demo2</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">ä»Šå¤©å¤©æ°”å¾ˆ</span><span class="p">{</span><span class="nx">isHot</span><span class="o">?</span><span class="s1">&#39;ç‚çƒ­&#39;</span><span class="o">:</span><span class="s1">&#39;å‡‰çˆ½&#39;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Weather</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// äº‹ä»¶å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kd">function</span> <span class="nx">demo</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;æ ‡é¢˜è¢«ç‚¹å‡»äº†&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="reactä¸­çš„äº‹ä»¶å¤„ç†">Reactä¸­çš„äº‹ä»¶å¤„ç†</h2>
<ol>
<li>
<p>å¯ä»¥é€šè¿‡å‚æ•°æ‹¿åˆ°å½“å‰çš„domèŠ‚ç‚¹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Demo</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">show</span><span class="o">=</span><span class="p">(</span><span class="nx">event</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span> <span class="nx">onBlur</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">show</span><span class="p">}</span> <span class="nx">placeholder</span><span class="o">=</span><span class="s1">&#39;å¤±å»ç„¦ç‚¹æç¤º&#39;</span><span class="o">/&gt;</span>    
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Demo</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h2 id="éå—æ§ç»„ä»¶">éå—æ§ç»„ä»¶</h2>
<ol>
<li>è¡¨å•ä¸­æ‰€æœ‰è¾“å…¥ç±»çš„å€¼æ˜¯ç°ç”¨ç°å–</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Login</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">handleSubmit</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">username</span><span class="p">,</span><span class="nx">password</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">username</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="nx">password</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">// åœ¨ç‚¹å‡»æäº¤æ—¶æ‰è·å–åˆ°è¡¨å•ä¸­çš„å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleSubmit</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">ç”¨æˆ·å</span><span class="err">ï¼š</span><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">c</span><span class="p">=&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">username</span><span class="o">=</span><span class="nx">c</span><span class="p">}</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">å¯†ç </span><span class="err">ï¼š</span><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">c</span><span class="p">=&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">password</span><span class="o">=</span><span class="nx">c</span><span class="p">}</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span><span class="o">&gt;</span><span class="nx">æäº¤</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/form&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Login</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å—æ§ç»„ä»¶æ¨è">å—æ§ç»„ä»¶ï¼ˆæ¨èï¼‰</h2>
<ol>
<li>è¾“å…¥ç±»çš„è¡¨å•ï¼Œåœ¨è¾“å…¥æ—¶å°±å°†å€¼å­˜å…¥stateä¸­ï¼Œç­‰å“ªé‡Œéœ€è¦ä½¿ç”¨æ—¶ç›´æ¥ä»stateä¸­å»è·å–ï¼Œç›¸å½“äºvueçš„åŒå‘æ•°æ®ç»‘å®š</li>
<li>å¯ä»¥é¿å…refçš„æ»¥ç”¨</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Login</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">state</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">username</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">password</span><span class="o">:</span><span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// å°†è·å–çš„æ•°æ®ä¿å­˜åˆ°stateä¸­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">savePassword</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">username</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">saveUsername</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">password</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">submit</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="c1">// åœ¨éœ€è¦ä½¿ç”¨æ—¶ä»stateä¸­å»è·å–æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="kr">const</span> <span class="p">{</span><span class="nx">username</span><span class="p">,</span><span class="nx">password</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`ç”¨æˆ·å</span><span class="si">${</span><span class="nx">username</span><span class="si">}</span><span class="sb">,å¯†ç </span><span class="si">${</span><span class="nx">password</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">                   <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">submit</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">// è¾“å…¥çš„æ•°æ®é€šè¿‡å½“å‰çš„event.targetè·å–
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="nx">ç”¨æˆ·å</span><span class="err">ï¼š</span><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">saveUsername</span><span class="p">}</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">å¯†ç </span><span class="err">ï¼š</span><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">savePassword</span><span class="p">}</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span><span class="o">&gt;</span><span class="nx">ç™»å½•</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/form&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Login</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æŸ¯é‡ŒåŒ–">æŸ¯é‡ŒåŒ–</h2>
<p></p>
<h2 id="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ</h2>
<p>å¼•å‡ºç”Ÿå‘½å‘¨æœŸ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Life</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">state</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">opacity</span><span class="o">:</span><span class="p">.</span><span class="mi">5</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// å¸è½½ç»„ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">death</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">unmountComponentAtNode</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//æŒ‚è½½ç»„ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">componentDidMount</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="kd">let</span> <span class="p">{</span><span class="nx">opacity</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                <span class="k">this</span><span class="p">.</span><span class="nx">timer</span><span class="o">=</span> <span class="nx">setInterval</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">opacity</span> <span class="o">-=</span> <span class="mf">0.1</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span><span class="p">(</span><span class="nx">opacity</span><span class="o">&lt;=</span><span class="mi">0</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">opacity</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">opacity</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span><span class="mi">200</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//å¸è½½ç»„ä»¶å‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">componentWillUnmount</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">clearInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">timer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        	<span class="c1">//åˆå§‹åŒ–æ¸²æŸ“ï¼Œé¡µé¢æ›´æ–°ä¹‹å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">opacity</span><span class="p">}</span>  <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="nx">opacity</span><span class="p">}}</span><span class="o">&gt;</span><span class="nx">ç”Ÿå‘½å‘¨æœŸ</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">death</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">å¸è½½ç»„ä»¶</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Life</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç”Ÿå‘½å‘¨æœŸæ—§">ç”Ÿå‘½å‘¨æœŸï¼ˆæ—§ï¼‰</h3>
<ol>
<li>åˆå§‹åŒ–é˜¶æ®µï¼šç”±ReactDOM.render()è§¦å‘&mdash;-åˆæ¬¡æ¸²æŸ“
<ul>
<li>constructor()</li>
<li>componentWillMount()</li>
<li>render()</li>
<li>componentDIdMount()
<ul>
<li>ä¸€èˆ¬åšä¸€äº›åˆå§‹åŒ–çš„äº‹ï¼Œå¦‚ï¼šå¼€å¯å®šæ—¶å™¨ï¼Œå‘é€ç½‘ç»œè¯·æ±‚ï¼Œè®¢é˜…æ¶ˆæ¯</li>
</ul>
</li>
</ul>
</li>
<li>æ›´æ–°é˜¶æ®µï¼šç”±ç»„ä»¶å†…éƒ¨çš„this.setState()æˆ–çˆ¶ç»„ä»¶é‡æ–°render()è§¦å‘
<ul>
<li>shouldComponentUpdate()</li>
<li>componentWillUpdate()</li>
<li>render()</li>
<li>componentDidUpdate()</li>
</ul>
</li>
<li>å¸è½½ç»„ä»¶ï¼šç”±ReactDOM.unmountComponentAtNode()è§¦å‘
<ul>
<li>componentWillUnmount()
<ul>
<li>ä¸€èˆ¬åšä¸€äº›æ”¶å°¾çš„äº‹ï¼Œå¦‚ï¼šå…³é—­å®šæ—¶å™¨ï¼Œå–æ¶ˆè®¢é˜…æ¶ˆæ¯</li>
</ul>
</li>
</ul>
</li>
</ol>
<p></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Life</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//1 æ„é€ å™¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Life---constructor&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">count</span><span class="o">:</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//2 æŒ‚è½½å‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">componentWillMount</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Life---componentWillMount&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nx">add</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                <span class="c1">// è¿™é‡Œä¼šèµ°5-6-7
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">count</span><span class="o">:</span><span class="nx">count</span><span class="o">+</span><span class="mi">1</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">update</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">// è¿™é‡Œä¼šèµ°6-7
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">this</span><span class="p">.</span><span class="nx">forceUpdate</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">death</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">unmountComponentAtNode</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//5 åœ¨setStateåæ‰ç”¨ï¼Œå¦‚æœè¿”å›trueåˆ™ç»§ç»­æ‰§è¡Œrenderï¼Œå¦åˆ™ä¸æ›´æ–°é¡µé¢ï¼Œç›¸å½“äºä¸€ä¸ªé˜€é—¨ï¼Œç”¨forceUpdateèƒ½ç›´æ¥ç»•è¿‡è¿™ä¸ªé˜€é—¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">shouldComponentUpdate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Life---shouldComponentUpdate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//6 å°†è¦æ›´æ–°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">componentWillUpdate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Life---componentWillUpdate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//3 åˆå§‹åŒ– 7 æ›´æ–°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Life---render&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">æ•°å­—</span><span class="err">ï¼š</span><span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">åŠ 1</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">        			   <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">update</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">å¼ºåˆ¶æ›´æ–°</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">death</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">å¸è½½</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//4 æŒ‚è½½å®Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">componentDidMount</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Life---componentDidMount&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//8 æ›´æ–°å®Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">componentDidUpdate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Life---componentDidUpdate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//9 å¸è½½å‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">componentWillUnmount</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Life---componentWillUnmount&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Life</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="çˆ¶ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ—§">çˆ¶ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ(æ—§)</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Son</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">state</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">carName</span><span class="o">:</span><span class="s1">&#39;å¥¥è¿ª&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="nx">changeCar</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">carName</span><span class="o">:</span><span class="s1">&#39;å®é©¬&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">carName</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Son</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">changeCar</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">æ¢è½¦</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">        			<span class="c1">// ç»™çˆ¶ç»„ä»¶ä¼ å±æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="o">&lt;</span><span class="nx">Father</span> <span class="nx">carName</span><span class="o">=</span><span class="p">{</span><span class="nx">carName</span><span class="p">}</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Father</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//æ¥æ”¶newPropsæ—¶è°ƒç”¨ï¼Œç¬¬ä¸€æ¬¡å‘é€æ¥çš„å±æ€§ä¸ä¼šè°ƒç”¨è¯¥é’©å­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">componentWillReceiveProps</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;componentWillReceiveProps&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">shouldComponentUpdate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;shouldComponentUpdate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">componentWillUpdate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;componentWillUpdate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;render&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Father</span><span class="o">:</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">carName</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">componentDidUpdate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;componentDidUpdate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Son</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç”Ÿå‘½å‘¨æœŸæ–°">ç”Ÿå‘½å‘¨æœŸï¼ˆæ–°ï¼‰</h3>
<ol>
<li>å³å°†åºŸå¼ƒ3ä¸ªwillçš„ç”Ÿå‘½å‘¨æœŸé’©å­</li>
<li>å¢åŠ ä¸¤ä¸ªgetç”Ÿå‘½å‘¨æœŸé’©å­</li>
</ol>
<p></p>
<ul>
<li>getDerivedStateFormProps(props,state)
<ol>
<li>propsï¼šä¼ å…¥çš„å±æ€§</li>
<li>stateï¼šå½“å‰çš„state</li>
<li>å¦‚æœstateéœ€è¦æ´¾ç”Ÿè‡ªpropsï¼Œåˆ™è¿”å›props</li>
<li>==æ³¨æ„==ï¼šæ´¾ç”Ÿçš„stateå°†æ— æ³•æ›´æ–°ï¼Œæ‰€ä»¥åœ¨==stateçš„å€¼å®Œå…¨å–å†³äºpropsæ—¶æ‰ä½¿ç”¨è¯¥é’©å­==ï¼Œæˆ–è€…åœ¨æ„é€ å™¨ä¸­å°†propsç»™stateä¹Ÿå¯ä»¥</li>
</ol>
</li>
<li>getSnapshotBeforeUpdate(prepropsï¼Œprestate)
<ol>
<li>prepropsï¼šä¼ å…¥æ–°propsä¹‹å‰çš„props</li>
<li>prestateï¼šæ›´æ–°ä¹‹å‰çš„state</li>
<li>è¿”å›å€¼ä¸ºcomponentDidUpdateçš„ç¬¬ä¸‰ä¸ªå‚æ•°</li>
</ol>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Son</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">state</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">carName</span><span class="o">:</span><span class="s1">&#39;å¥¥è¿ª&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="nx">changeCar</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">carName</span><span class="o">:</span><span class="s1">&#39;å®é©¬&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">carName</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Son</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">changeCar</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">æ¢è½¦</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">Father</span> <span class="nx">carName</span><span class="o">=</span><span class="p">{</span><span class="nx">carName</span><span class="p">}</span><span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">Father</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">state</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;xj&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//getDerivedStateFromPropsæ˜¯ä¸€ä¸ªé™æ€å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªå‡½æ•°ä¸èƒ½é€šè¿‡thisè®¿é—®åˆ°classçš„å±æ€§ï¼Œä¹Ÿå¹¶ä¸æ¨èç›´æ¥è®¿é—®å±æ€§ã€‚è€Œæ˜¯åº”è¯¥é€šè¿‡å‚æ•°æä¾›çš„Propsä»¥åŠprevStateæ¥è¿›è¡Œåˆ¤æ–­ï¼Œæ ¹æ®æ–°ä¼ å…¥çš„propsæ¥æ˜ å°„åˆ°stateã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœpropsä¼ å…¥çš„å†…å®¹ä¸éœ€è¦å½±å“åˆ°ä½ çš„stateï¼Œé‚£ä¹ˆå°±éœ€è¦è¿”å›ä¸€ä¸ªnullï¼Œè¿™ä¸ªè¿”å›å€¼æ˜¯å¿…é¡»çš„ï¼Œæ‰€ä»¥å°½é‡å°†å…¶å†™åˆ°å‡½æ•°çš„æœ«å°¾ã€‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">            <span class="kr">static</span> <span class="nx">getDerivedStateFromProps</span><span class="p">(</span><span class="nx">props</span><span class="p">,</span><span class="nx">state</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;getDerivedStateFromProps&#39;</span><span class="p">,</span><span class="nx">props</span><span class="p">,</span><span class="nx">state</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">            <span class="nx">shouldComponentUpdate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;shouldComponentUpdate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="cm">/* åœ¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“è¾“å‡ºï¼ˆæäº¤åˆ°DOMèŠ‚ç‚¹ï¼‰ä¹‹å‰è°ƒç”¨ã€‚
</span></span></span><span class="line"><span class="cl"><span class="cm">             å®ƒä½¿å¾—ç»„ä»¶èƒ½åœ¨å‘ç”Ÿæ›´æ”¹ä¹‹å‰ä»DOMä¸­æ•è·ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚åˆ—è¡¨çš„é«˜åº¦ç­‰ã€‚
</span></span></span><span class="line"><span class="cl"><span class="cm">            æ­¤ç”Ÿå‘½å‘¨æœŸçš„ä»»ä½•è¿”å›å€¼å°†ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™componentDidUpdate()*/</span>
</span></span><span class="line"><span class="cl">            <span class="nx">getSnapshotBeforeUpdate</span><span class="p">(</span><span class="nx">preProps</span><span class="p">,</span><span class="nx">preState</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;getSnapshotBeforeUpdate&#39;</span><span class="p">,</span><span class="nx">preProps</span><span class="p">,</span><span class="nx">preState</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="s1">&#39;xqz&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;render&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Father</span><span class="o">:</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">carName</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">componentDidUpdate</span><span class="p">(</span><span class="nx">preProps</span><span class="p">,</span><span class="nx">preState</span><span class="p">,</span><span class="nx">snapshotValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">preProps</span><span class="p">,</span><span class="nx">preState</span><span class="p">,</span><span class="nx">snapshotValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;componentDidUpdate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Son</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="getsnapshotbeforeupdateçš„åº”ç”¨">getSnapshotBeforeUpdateçš„åº”ç”¨</h4>
<p>å®ç°ä¸æ–­å¢åŠ åˆ—è¡¨é«˜åº¦ï¼Œä½†æ˜¯ä¸å½±å“å½“å‰çš„æµè§ˆ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">class</span> <span class="nx">NewsList</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">state</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">newsList</span><span class="o">:</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">componentDidMount</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">setInterval</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">                    <span class="kr">const</span> <span class="p">{</span><span class="nx">newsList</span><span class="p">}</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newsList</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                    <span class="kr">const</span> <span class="nx">news</span> <span class="o">=</span> <span class="s1">&#39;æ–°é—»&#39;</span><span class="o">+</span><span class="p">(</span><span class="nx">newsList</span><span class="p">.</span><span class="nx">length</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">news</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">newList</span><span class="o">:</span><span class="nx">newsList</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">news</span><span class="p">)})</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span><span class="mi">500</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//è¿”å›æ¯æ¬¡æ›´æ–°å‰çš„listå†…å®¹é«˜åº¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">getSnapshotBeforeUpdate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">scrollHeight</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">render</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="p">{</span><span class="nx">newsList</span><span class="p">}</span><span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;list&#34;</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">c</span><span class="p">=&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">list</span><span class="o">=</span><span class="nx">c</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="p">{</span><span class="nx">newsList</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">v</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                                <span class="k">return</span> <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">i</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">v</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="p">})}</span>
</span></span><span class="line"><span class="cl">                        <span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">componentDidUpdate</span><span class="p">(</span><span class="nx">prePorps</span><span class="p">,</span><span class="nx">preState</span><span class="p">,</span><span class="nx">snapshotValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="c1">// æ»šåŠ¨çš„é«˜åº¦=å·²ç»æ»šåŠ¨çš„é«˜åº¦+ï¼ˆç›®å‰çš„é«˜åº¦-æ›´æ–°å‰çš„é«˜åº¦ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">this</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="o">-</span><span class="nx">snapshotValue</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">NewsList</span><span class="o">/&gt;</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="domçš„diffingç®—æ³•">DOMçš„diffingç®—æ³•</h3>
<p></p>
<h1 id="reactè„šæ‰‹æ¶">Reactè„šæ‰‹æ¶</h1>
<h2 id="é¡¹ç›®ç»“æ„">é¡¹ç›®ç»“æ„</h2>
<p></p>
<h2 id="å¼€å‘æµç¨‹">å¼€å‘æµç¨‹</h2>
<p></p>
<ol>
<li>
<p>åœ¨srcç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹å®šä¹‰ç»„ä»¶å¹¶æš´éœ²</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>// Reactä¸ºé»˜è®¤æš´éœ²ï¼ŒComponentä¸ºåˆ†åˆ«æš´éœ²
import React,{Component} from &lsquo;react&rsquo;
import &lsquo;./Hello.css&rsquo;
export default class Hello extends Component{
render(){
return(
<h2 className="title">Hello,React!</h2>
)
}
}</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2. åœ¨App.jsä¸­å¼•å…¥ä½¿ç”¨å¹¶æš´éœ²
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">```javascript
</span></span><span class="line"><span class="cl">//åˆ›å»ºå¤–å£³ç»„ä»¶
</span></span><span class="line"><span class="cl">import React,{Component} from &#39;react&#39;
</span></span><span class="line"><span class="cl">import Hello from &#39;./components/Hello/Hello&#39;
</span></span><span class="line"><span class="cl">import Welcome from &#39;./components/Welcome/Welcome&#39;
</span></span><span class="line"><span class="cl">export default class App extends Component{
</span></span><span class="line"><span class="cl"> render(){
</span></span><span class="line"><span class="cl">   return(
</span></span><span class="line"><span class="cl">     &lt;div&gt;
</span></span><span class="line"><span class="cl">        &lt;Hello/&gt; 
</span></span><span class="line"><span class="cl">        &lt;Welcome/&gt;
</span></span><span class="line"><span class="cl">     &lt;/div&gt;
</span></span><span class="line"><span class="cl">   ) 
</span></span><span class="line"><span class="cl"> }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>
<p>åœ¨index.jsä¸­å¼•å…¥Appï¼Œrenderåˆ°rootè·Ÿç»„ä»¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">//å¼•å…¥reactæ ¸å¿ƒåº“
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//å¼•å…¥reactDOM
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">ReactDOM</span> <span class="nx">from</span> <span class="s1">&#39;react-dom&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//å¼•å…¥Appç»„ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s1">&#39;./App&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//ç”¨äºæµ‹è¯•æ€§èƒ½
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">reportWebVitals</span> <span class="nx">from</span> <span class="s1">&#39;./reportWebVitals&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æ¸²æŸ“Appåˆ°é¡µé¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="o">&lt;</span><span class="nx">React</span><span class="p">.</span><span class="nx">StrictMode</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="o">&lt;</span><span class="err">/React.StrictMode&gt;,</span>
</span></span><span class="line"><span class="cl">  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">reportWebVitals</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h2 id="æ ·å¼çš„æ¨¡å—åŒ–">æ ·å¼çš„æ¨¡å—åŒ–</h2>
<p></p>
<h2 id="todolistæ¡ˆä¾‹">todolistæ¡ˆä¾‹</h2>
<p></p>
<h2 id="githubæœç´¢æ¡ˆä¾‹">githubæœç´¢æ¡ˆä¾‹</h2>
<p></p>
<h2 id="é…ç½®ä»£ç†è§£å†³è·¨åŸŸ">é…ç½®ä»£ç†è§£å†³è·¨åŸŸ</h2>
<h3 id="æ–¹æ³•ä¸€">æ–¹æ³•ä¸€</h3>
<blockquote>
<p>åœ¨package.jsonä¸­è¿½åŠ å¦‚ä¸‹é…ç½®</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;proxy&#34;</span><span class="err">:</span><span class="s2">&#34;http://localhost:5000&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯´æ˜ï¼š</p>
<ol>
<li>ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œå‰ç«¯è¯·æ±‚èµ„æºæ—¶å¯ä»¥ä¸åŠ ä»»ä½•å‰ç¼€ã€‚</li>
<li>ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç†ã€‚</li>
<li>å·¥ä½œæ–¹å¼ï¼šä¸Šè¿°æ–¹å¼é…ç½®ä»£ç†ï¼Œå½“è¯·æ±‚äº†3000ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚ä¼šè½¬å‘ç»™5000 ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰</li>
</ol>
<h3 id="æ–¹æ³•äºŒ">æ–¹æ³•äºŒ</h3>
<ol>
<li>
<p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä»£ç†é…ç½®æ–‡ä»¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">åœ¨srcä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šsrc/setupProxy.js
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ç¼–å†™setupProxy.jsé…ç½®å…·ä½“ä»£ç†è§„åˆ™ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="p">{</span><span class="nx">createProxyMiddleware</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http-proxy-middleware&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nx">createProxyMiddleware</span> <span class="p">(</span><span class="s1">&#39;/api1&#39;</span><span class="p">,</span> <span class="p">{</span>  <span class="c1">//api1æ˜¯éœ€è¦è½¬å‘çš„è¯·æ±‚(æ‰€æœ‰å¸¦æœ‰/api1å‰ç¼€çš„è¯·æ±‚éƒ½ä¼šè½¬å‘ç»™5000)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">target</span><span class="o">:</span> <span class="s1">&#39;http://localhost:5000&#39;</span><span class="p">,</span> <span class="c1">//é…ç½®è½¬å‘ç›®æ ‡åœ°å€(èƒ½è¿”å›æ•°æ®çš„æœåŠ¡å™¨åœ°å€)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">changeOrigin</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//æ§åˆ¶æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­hostå­—æ®µçš„å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">      	changeOriginè®¾ç½®ä¸ºtrueæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:5000
</span></span></span><span class="line"><span class="cl"><span class="cm">      	changeOriginè®¾ç½®ä¸ºfalseæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:3000
</span></span></span><span class="line"><span class="cl"><span class="cm">      	changeOriginé»˜è®¤å€¼ä¸ºfalseï¼Œä½†æˆ‘ä»¬ä¸€èˆ¬å°†changeOriginå€¼è®¾ä¸ºtrue
</span></span></span><span class="line"><span class="cl"><span class="cm">      */</span>
</span></span><span class="line"><span class="cl">      <span class="nx">pathRewrite</span><span class="o">:</span> <span class="p">{</span><span class="s1">&#39;^/api1&#39;</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span> <span class="c1">//å»é™¤è¯·æ±‚å‰ç¼€ï¼Œä¿è¯äº¤ç»™åå°æœåŠ¡å™¨çš„æ˜¯æ­£å¸¸è¯·æ±‚åœ°å€(å¿…é¡»é…ç½®)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">createProxyMiddleware</span> <span class="p">(</span><span class="s1">&#39;/api2&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">target</span><span class="o">:</span> <span class="s1">&#39;http://localhost:5001&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">changeOrigin</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">pathRewrite</span><span class="o">:</span> <span class="p">{</span><span class="s1">&#39;^/api2&#39;</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>è¯´æ˜ï¼š</p>
<ol>
<li>ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œå¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</li>
<li>ç¼ºç‚¹ï¼šé…ç½®ç¹çï¼Œå‰ç«¯è¯·æ±‚èµ„æºæ—¶å¿…é¡»åŠ å‰ç¼€ã€‚</li>
</ol>
<h1 id="reactè·¯ç”±">Reactè·¯ç”±</h1>
<h2 id="react-router-domåŸºæœ¬ä½¿ç”¨">react-router-domåŸºæœ¬ä½¿ç”¨</h2>
<p></p>
<ol>
<li>
<p>npm install react-router-dom &ndash;save</p>
</li>
<li>
<p>åœ¨index.jsä¸­å¼•å…¥BrowserRouterç»„ä»¶ï¼ˆhistroyæ¨¡å¼ï¼‰ï¼Œå°†Appç»„ä»¶åŒ…è£¹ï¼Œå³æ•´ä¸ªåº”ç”¨ä½¿ç”¨ä¸€ä¸ªè·¯ç”±å™¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">ReactDOM</span> <span class="nx">from</span> <span class="s1">&#39;react-dom&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">BrowserRouter</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-router-dom&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s1">&#39;./App&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">BrowserRouter</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">App</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">BrowserRouter</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>åœ¨çˆ¶ç»„ä»¶ä¸­æ·»åŠ è·¯ç”±é“¾æ¥Link</p>
<ul>
<li>toï¼šå»å¾€çš„è·¯ç”±ï¼ˆä¸€èˆ¬å°å†™ï¼‰</li>
</ul>
</li>
<li>
<p>åœ¨çˆ¶ç»„ä»¶ä¸­æ³¨å†Œè·¯ç”±Route</p>
<ul>
<li>pathï¼šå¯¹åº”çš„è·¯ç”±é“¾æ¥</li>
<li>componentï¼šå¯¹åº”æ¸²æŸ“çš„ç»„ä»¶</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">Link</span><span class="p">,</span><span class="nx">Route</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-router-dom&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">About</span> <span class="nx">from</span> <span class="s1">&#39;./components/About&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">Home</span> <span class="nx">from</span> <span class="s1">&#39;./components/Home&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">App</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;row&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;col-xs-offset-2 col-xs-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;page-header&#34;</span><span class="p">&gt;&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">React</span> <span class="nx">Router</span> <span class="nx">Demo</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;row&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;col-xs-2 col-xs-offset-2&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;list-group&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="c1">// è·¯ç”±é“¾æ¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                  <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;list-group-item active&#34;</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/about&#34;</span><span class="p">&gt;</span><span class="nx">About</span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;list-group-item&#34;</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/home&#34;</span><span class="p">&gt;</span><span class="nx">Home</span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;col-xs-6&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;panel&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;panel-body&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="c1">//æ³¨å†Œè·¯ç”±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="p">&lt;</span><span class="nt">Route</span> <span class="na">path</span><span class="o">=</span><span class="s">&#39;/about&#39;</span> <span class="na">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}&gt;&lt;/</span><span class="nt">Route</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">Route</span> <span class="na">path</span><span class="o">=</span><span class="s">&#39;/home&#39;</span> <span class="na">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Home</span><span class="p">}&gt;&lt;/</span><span class="nt">Route</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h2 id="è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶">è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶</h2>
<p>==æ³¨æ„==ï¼š</p>
<ol>
<li>åªæœ‰è·¯ç”±ç»„ä»¶æ‰æœ‰histroy</li>
</ol>
<p></p>
<h2 id="withrouterå‡½æ•°">withRouterå‡½æ•°</h2>
<p></p>
<h2 id="navlinkçš„ä½¿ç”¨">NavLinkçš„ä½¿ç”¨</h2>
<p></p>
<ol>
<li>é»˜è®¤çš„activeClassNameä¸ºactive</li>
<li>ç‚¹å‡»åä¼šè‡ªåŠ¨æ·»åŠ activeClassName</li>
</ol>
<h3 id="navlinkçš„äºŒæ¬¡å°è£…">NavLinkçš„äºŒæ¬¡å°è£…</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">NavLink</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-router-dom&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">MyNavLink</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">NavLink</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;list-group-item&#34;</span> <span class="p">{</span><span class="na">...this.props</span><span class="p">}</span> <span class="p">/&gt;</span> <span class="c1">//æ‰©å±•è¿ç®—ç¬¦å°†keyå’Œvalueéƒ½å±•å¼€ï¼ŒåŒ…æ‹¬childrenï¼Œå€¼å°±æ˜¯æ ‡ç­¾ä½“å†…å®¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">MyNavLink</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">MyNavLink</span> <span class="na">to</span><span class="o">=</span><span class="s">&#39;/home&#39;</span><span class="p">&gt;</span><span class="nx">Home</span><span class="p">&lt;/</span><span class="nt">MyNavLink</span><span class="p">&gt;</span> <span class="c1">//è¿™é‡Œæ ‡ç­¾ä½“çš„å†…å®¹ä¼šè‡ªåŠ¨æ•´ç†ä¸ºæ ‡ç­¾çš„ä¸€ä¸ªå±æ€§ï¼Œkeyä¸ºchildren
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="switchçš„ä½¿ç”¨">switchçš„ä½¿ç”¨</h2>
<ol>
<li>ä¸ç”¨switchç»„ä»¶ï¼Œä¼šä¾æ¬¡åŒ¹é…è·¯ç”±ï¼Œæ•ˆç‡ä½ä¸‹</li>
<li>switchç»„ä»¶ä¸­ï¼ŒåŒ¹é…åˆ°äº†è·¯ç”±åå°±ä¸ä¼šå†å‘ä¸‹åŒ¹é…äº†</li>
<li>æ³¨æ„ï¼šç›¸åŒè·¯å¾„åŒ¹é…ç¬¬ä¸€ä¸ªï¼Œä¸ç”¨switchä¼šå…¨éƒ¨æ˜¾ç¤º</li>
</ol>
<p></p>
<h2 id="è§£å†³æ ·å¼ä¸¢å¤±">è§£å†³æ ·å¼ä¸¢å¤±</h2>
<p></p>
<p>ä¸€èˆ¬åœ¨è·¯ç”±å‰åŠ ä¸Šé¡¹ç›®æˆ–è€…å…¬å¸åï¼Œåˆ·æ–°åè¯·æ±‚èµ„æºçš„è·¯å¾„å˜äº†å¯¼è‡´è¯·æ±‚ä¸åˆ°cssæ–‡ä»¶</p>
<ol>
<li>
<p>å°†&lt;link <em>rel</em>=&ldquo;stylesheet&rdquo; <em>href</em>=&quot;./js/bootstrap.css&quot;&gt;ä¸­çš„./æ”¹ä¸º/</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/js/bootstrap.css&#34;</span><span class="p">&gt;</span> //ä¸å¸¦.æ˜¯æŒ‡é€šè¿‡localhostç«¯å£å·ç›¸å¯¹åœ°å€è®¿é—®
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>æ”¹ä¸º</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;%PUBLIC_URL%/js/bootstrap.css&#34;</span><span class="p">&gt;</span> //ç»å¯¹è·¯å¾„
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>å°†browserrouteræ”¹ä¸ºhashrouterï¼Œå› ä¸º#åé¢çš„ä¸ä¼šåŠ å…¥è¯·æ±‚åœ°å€ä¸­ï¼Œä½†æ˜¯ä¸å¸¸ç”¨</p>
</li>
</ol>
<h2 id="è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…">è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…</h2>
<p></p>
<h2 id="redirectç»„ä»¶çš„ä½¿ç”¨">Redirectç»„ä»¶çš„ä½¿ç”¨</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl">                  <span class="c1">//æ³¨å†Œè·¯ç”±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                  <span class="p">&lt;</span><span class="nt">Switch</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">Route</span> <span class="na">exact</span> <span class="na">path</span><span class="o">=</span><span class="s">&#39;/test/about&#39;</span> <span class="na">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}&gt;&lt;/</span><span class="nt">Route</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">Route</span> <span class="na">path</span><span class="o">=</span><span class="s">&#39;/test/home&#39;</span> <span class="na">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Home</span><span class="p">}&gt;&lt;/</span><span class="nt">Route</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">Redirect</span> <span class="na">to</span><span class="o">=</span><span class="s">&#39;/test/about&#39;</span><span class="p">/&gt;</span> <span class="c1">// åŒ¹é…ä¸åˆ°æ—¶è·³è½¬
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                  <span class="p">&lt;/</span><span class="nt">Switch</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="åµŒå¥—è·¯ç”±">åµŒå¥—è·¯ç”±</h2>
<p></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Route</span> <span class="p">,</span><span class="nx">Redirect</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-router-dom&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">MyNavLink</span> <span class="nx">from</span> <span class="s1">&#39;../../components/MyNavLink&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">News</span> <span class="nx">from</span> <span class="s1">&#39;./News&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">Message</span> <span class="nx">from</span> <span class="s1">&#39;./Message&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">index</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Homeç»„ä»¶å†…å®¹</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav nav-tabs&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="p">&lt;</span><span class="nt">MyNavLink</span> <span class="na">to</span><span class="o">=</span><span class="s">&#39;/test/home/news&#39;</span><span class="p">&gt;</span><span class="nx">News</span><span class="p">&lt;/</span><span class="nt">MyNavLink</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="p">&lt;</span><span class="nt">MyNavLink</span> <span class="na">to</span><span class="o">=</span><span class="s">&#39;/test/home/message&#39;</span><span class="p">&gt;</span><span class="nx">message</span><span class="p">&lt;/</span><span class="nt">MyNavLink</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span><span class="cm">/* æ³¨å†Œè·¯ç”± äºŒçº§è·¯ç”± ä¸€çº§è·¯ç”±ä¸º/test/home*/</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                        <span class="p">&lt;</span><span class="nt">Route</span> <span class="na">path</span><span class="o">=</span><span class="s">&#39;/test/home/news&#39;</span> <span class="na">component</span><span class="o">=</span><span class="p">{</span><span class="nx">News</span><span class="p">}/&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="p">&lt;</span><span class="nt">Route</span> <span class="na">path</span><span class="o">=</span><span class="s">&#39;/test/home/message&#39;</span> <span class="na">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Message</span><span class="p">}&gt;&lt;/</span><span class="nt">Route</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="p">&lt;</span><span class="nt">Redirect</span> <span class="na">to</span><span class="o">=</span><span class="s">&#39;/test/home/news&#39;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">index</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è·¯ç”±ä¼ å‚">è·¯ç”±ä¼ å‚</h2>
<p>ä¼ é€’&ndash;&gt;å£°åæ¥æ”¶&ndash;&gt;æ¥æ”¶</p>
<h3 id="paramså‚æ•°">paramså‚æ•°</h3>
<p></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Link</span><span class="p">,</span> <span class="nx">Route</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-router-dom&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">Detail</span> <span class="nx">from</span> <span class="s1">&#39;./Detail&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">messageArr</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;æ¶ˆæ¯1&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;æ¶ˆæ¯2&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;æ¶ˆæ¯3&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Message</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">messageArr</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">v</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="p">&lt;</span><span class="nt">li</span> <span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">v</span><span class="p">.</span><span class="nx">id</span><span class="p">}&gt;</span>
</span></span><span class="line"><span class="cl">                           <span class="c1">//ä¼ é€’å‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                            <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`/test/home/message/detail/</span><span class="si">${</span><span class="nx">v</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">/</span><span class="si">${</span><span class="nx">v</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="sb">`</span><span class="p">}&gt;{</span><span class="nx">v</span><span class="p">.</span><span class="nx">title</span><span class="p">}&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">})}</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="c1">// å£°åæ¥æ”¶å‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="p">&lt;</span><span class="nt">Route</span> <span class="na">path</span><span class="o">=</span><span class="p">{</span><span class="sb">`/test/home/message/detail/:id/:title`</span><span class="p">}</span> <span class="na">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Detail</span><span class="p">}</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">Message</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">contentArr</span> <span class="o">=</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">content</span><span class="o">:</span><span class="s1">&#39;å†…å®¹1&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">content</span><span class="o">:</span><span class="s1">&#39;å†…å®¹2&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="nx">content</span><span class="o">:</span><span class="s1">&#39;å†…å®¹3&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Detail</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// æ¥æ”¶å‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">params</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">contentArr</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">v</span><span class="p">=&gt;{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nx">v</span><span class="p">.</span><span class="nx">id</span><span class="o">==</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">ID</span><span class="o">:</span><span class="p">{</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">Title</span><span class="o">:</span><span class="p">{</span><span class="nx">params</span><span class="p">.</span><span class="nx">title</span><span class="p">}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">Content</span><span class="o">:</span><span class="p">{</span><span class="nx">result</span><span class="p">.</span><span class="nx">content</span><span class="p">}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">Detail</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="searchå‚æ•°">searchå‚æ•°</h3>
<p></p>
<p></p>
<p>æ¥æ”¶å‚æ•°ä½¿ç”¨querystringæ¨¡å—</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">qs</span> <span class="nx">from</span> <span class="s1">&#39;querystring&#39;</span><span class="c1">//å¼•å…¥æ¨¡å—ï¼ŒstringlifyæŠŠå¯¹è±¡å˜æˆurlencodedç¼–ç ï¼ŒparseæŠŠurlencodedç¼–ç å˜æˆå¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">contentArr</span> <span class="o">=</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">content</span><span class="o">:</span><span class="s1">&#39;å†…å®¹1&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">content</span><span class="o">:</span><span class="s1">&#39;å†…å®¹2&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="nx">content</span><span class="o">:</span><span class="s1">&#39;å†…å®¹3&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Detail</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="p">{</span><span class="nx">search</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">location</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="p">{</span><span class="nx">content</span><span class="p">}</span> <span class="o">=</span> <span class="nx">contentArr</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">v</span><span class="p">=&gt;{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nx">v</span><span class="p">.</span><span class="nx">id</span><span class="o">==</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">ID</span><span class="o">:</span><span class="p">{</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">Title</span><span class="o">:</span><span class="p">{</span><span class="nx">result</span><span class="p">.</span><span class="nx">title</span><span class="p">}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">Content</span><span class="o">:</span><span class="p">{</span><span class="nx">content</span><span class="p">}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">Detail</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="stateå‚æ•°">stateå‚æ•°</h3>
<p></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">qs</span> <span class="nx">from</span> <span class="s1">&#39;querystring&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">contentArr</span> <span class="o">=</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">content</span><span class="o">:</span><span class="s1">&#39;å†…å®¹1&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">content</span><span class="o">:</span><span class="s1">&#39;å†…å®¹2&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="nx">content</span><span class="o">:</span><span class="s1">&#39;å†…å®¹3&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Detail</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">state</span> <span class="o">||</span> <span class="p">{}</span> <span class="c1">//åˆ·æ–°æ˜¯å¯ä»¥ä¿ç•™å‚æ•°çš„ï¼Œå› ä¸ºæ˜¯historyæ¨¡å¼ï¼Œlocationæ˜¯histroyçš„ä¸€ä¸ªå±æ€§ï¼Œé˜²æ­¢æ¸…é™¤ç¼“å­˜åæŠ¥é”™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="p">{</span><span class="nx">content</span><span class="p">}</span> <span class="o">=</span> <span class="nx">contentArr</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">v</span><span class="p">=&gt;{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nx">v</span><span class="p">.</span><span class="nx">id</span><span class="o">==</span><span class="nx">state</span><span class="p">.</span><span class="nx">id</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span> <span class="o">||</span> <span class="p">{}</span> <span class="c1">//åŒç†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">ID</span><span class="o">:</span><span class="p">{</span><span class="nx">state</span><span class="p">.</span><span class="nx">id</span><span class="p">}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">Title</span><span class="o">:</span><span class="p">{</span><span class="nx">state</span><span class="p">.</span><span class="nx">title</span><span class="p">}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">Content</span><span class="o">:</span><span class="p">{</span><span class="nx">content</span><span class="p">}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">Detail</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åŒºåˆ«">åŒºåˆ«</h3>
<ol>
<li>stateçš„å‚æ•°çœ‹ä¸åˆ°ï¼Œparamså’Œsearchå‚æ•°å¯ä»¥åœ¨åœ°å€ä¸Šçœ‹åˆ°</li>
<li>paramså‚æ•°éœ€è¦å£°åæ¥æ”¶ï¼Œå…¶ä»–ä¸¤ä¸ªä¸éœ€è¦</li>
<li>searchå‚æ•°åœ¨æ¥æ”¶æ—¶éœ€è¦querystringæ¨¡å—è¿›è¡Œè§£æ</li>
<li>ä¸‰ç§æ–¹æ³•ä¼ é€’çš„å†™æ³•éƒ½ä¸åŒï¼Œä½†æ˜¯éƒ½å¯ä»¥å†™æˆå¯¹è±¡</li>
</ol>
<h2 id="pushä¸replace">pushä¸replace</h2>
<ol>
<li>pushæœ‰å†å²è®°å½•</li>
<li>åœ¨linkæ ‡ç­¾åŠ ä¸Šreplaceå±æ€§ï¼Œå°±æ²¡æœ‰å†å²è®°å½•</li>
</ol>
<h2 id="ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª">ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª</h2>
<p></p>
<p></p>
<p></p>
<p>BrowserRouterä¸HashRouterçš„åŒºåˆ«</p>
<p></p>
<h1 id="redux">Redux</h1>
<h2 id="æµç¨‹">æµç¨‹</h2>
<p></p>
<p></p>
<ol>
<li>é¦–å…ˆcreateStoreå»åˆ›å»ºä¸€ä¸ªstoreï¼Œä¼ å…¥ä¸€ä¸ªä¸ºå…¶æœåŠ¡çš„reducerï¼Œå¹¶æš´éœ²</li>
<li>reduceræ˜¯å‡½æ•°ï¼Œæ¥æ”¶prestateå’Œactionï¼Œactionä¸ºå¯¹è±¡ï¼Œæœ‰typeå’Œdataï¼Œè¿”å›åŠ å·¥åçš„çŠ¶æ€</li>
<li>éœ€è¦ä¸€ä¸ªæ–‡ä»¶ä½œä¸ºactioncreatorï¼Œç”¨äºè¿”å›actionå¯¹è±¡</li>
<li>ç„¶åè°ƒç”¨storeå®ä¾‹çš„dispatchæ–¹æ³•ï¼Œè®©ä¸ºè¿™ä¸ªstoreæœåŠ¡çš„reducerè¿›è¡ŒåŠ å·¥æ•°æ®åè¿”å›</li>
</ol>
<h2 id="å¼‚æ­¥action">å¼‚æ­¥action</h2>
<p>è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°</p>
<p></p>
<p>æ­¤æ—¶ä¼šæŠ¥é”™ï¼Œå› ä¸ºdispatchä¸­éœ€è¦ä¸€ä¸ªactionå¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œ</p>
<p>éœ€è¦redux-thunk</p>
<h2 id="redux-thunk">redux-thunk</h2>
<p></p>
<p></p>
<h2 id="react-redux">react-redux</h2>
<p></p>
<h3 id="react-reduxçš„åŸºæœ¬ä½¿ç”¨">React-reduxçš„åŸºæœ¬ä½¿ç”¨</h3>
<p></p>
<h3 id="å®¹å™¨ä¸­è¿æ¥storeå’Œuiç»„ä»¶">å®¹å™¨ä¸­è¿æ¥storeå’Œuiç»„ä»¶</h3>
<p></p>
<p></p>
<p></p>
<p>==æ³¨æ„==ï¼šåœ¨APP.jsxä¸­ï¼Œç›´æ¥ä½¿ç”¨å®¹å™¨ç»„ä»¶ï¼Œå¹¶é€šè¿‡propsçš„æ–¹å¼ä¼ é€’store</p>
<h3 id="uiç»„ä»¶ä¸­ä½¿ç”¨">uiç»„ä»¶ä¸­ä½¿ç”¨</h3>
<p></p>
<h3 id="æµç¨‹æ€»ç»“">æµç¨‹æ€»ç»“ï¼š</h3>
<ol>
<li>é¦–å…ˆreduxéœ€è¦ï¼Œconstantï¼Œactionï¼Œreducerï¼Œstoreæ–‡ä»¶ï¼›ä¸€ä¸ªcomponentéœ€è¦ä¸€ä¸ªcontaineræ–‡ä»¶</li>
<li>containerç”¨äºè¿æ¥componentå’Œstoreï¼Œstoreé€šè¿‡å±æ€§ä¼ é€’ï¼Œcomponentæ–‡ä»¶å¼•å…¥</li>
<li>react-reduxä¸­æœ‰connectå‡½æ•°ï¼Œå°†uiå’Œstoreè¿æ¥ï¼Œç¬¬ä¸€ä¸ªå‚æ•°mapStateToPropsï¼ˆä¸€ä¸ªfunctionï¼‰è¿”å›stateï¼Œç¬¬äºŒä¸ªmapDispatchToPsopsè¿”å›æ“ä½œstateçš„æ–¹æ³•dispatchï¼Œè¿”å›ç±»å‹éƒ½æ˜¯å¯¹è±¡ï¼Œç›¸å½“äºè¿”å›åˆ°propsä¸­äº†</li>
<li>componenté€šè¿‡å±æ€§ï¼ˆæ¥è‡ªconnectç»‘å®šçš„constainerï¼‰è°ƒç”¨storeä¸­çš„stateæˆ–è€…æ–¹æ³•</li>
<li>å› ä¸ºdispatchä¸­éœ€è¦ä¸€ä¸ªactionå¯¹è±¡ï¼Œæ‰€ä»¥åˆ°è¾¾actionæ–‡ä»¶è¿›è¡Œåˆ›å»ºï¼Œç„¶ådispatchæ‰§è¡Œï¼Œè°ƒç”¨actionçš„typeåœ¨reducerä¸­å¯¹åº”çš„æ“ä½œ</li>
<li>actionå’Œreducerä¸­ä½¿ç”¨constantæ–‡ä»¶</li>
</ol>
<h3 id="ä¼˜åŒ–">ä¼˜åŒ–</h3>
<p></p>
<p>1.react-reduxçš„dispatchå¯ä»¥å†™æˆå¯¹è±¡çš„ç®€å†™å½¢å¼</p>
<ol>
<li>componentä¸­è°ƒç”¨äº†jiaåï¼Œç›¸å½“äºè°ƒç”¨actionä¸­çš„incrementæ–¹æ³•ï¼Œå‚æ•°é€šè¿‡incrementä¼ é€’</li>
<li>ç„¶åreact-reduxä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ†å‘dispatch</li>
</ol>
<p></p>
<p>2.ä½¿ç”¨react-reduxä¸ç”¨ç›‘å¬storerçš„å˜åŒ–</p>
<p>3.providerç»„ä»¶åŒ…è£¹APPå¯ä»¥å°†æ‰€æœ‰çš„å®¹å™¨ç»„ä»¶éƒ½æ‹¥æœ‰store</p>
<p></p>
<p>4.æ•´åˆuiç»„ä»¶ä¸å®¹å™¨ç»„ä»¶</p>
<p>å°†uiç»„ä»¶çš„å®šä¹‰å†™åœ¨å®¹å™¨ç»„ä»¶ä¸­</p>
<p></p>
<h2 id="æ•°æ®å…±äº«">æ•°æ®å…±äº«</h2>
<p></p>
<p>combineReducersä¸­çš„å¯¹è±¡å°±æ˜¯reduxçš„storeä¸­æœ€ç»ˆä¿å­˜çš„æ•°æ®ç»“æ„</p>
<p>==æµç¨‹==</p>
<p></p>
<ol>
<li>
<p>é¦–å…ˆå°†reduxä¸­åˆ†æ–‡ä»¶å¤¹å»ºç«‹actionå’Œreducer</p>
</li>
<li>
<p>åœ¨stroreä¸­å°†reducersæ•´åˆ</p>
</li>
<li>
<p>åœ¨ä½¿ç”¨æ—¶è·å–éœ€è¦çš„state</p>
<p></p>
</li>
</ol>
<h2 id="çº¯å‡½æ•°">çº¯å‡½æ•°</h2>
<p></p>
<h2 id="reduxå¼€å‘è€…å·¥å…·">reduxå¼€å‘è€…å·¥å…·</h2>
<p>npm i redux-devtools-extension</p>
<p></p>
<h1 id="å¸¸ç”¨åº“">å¸¸ç”¨åº“</h1>
<h2 id="nanoid">nanoid</h2>
<p>ç”Ÿæˆå”¯ä¸€çš„uuid</p>
<ol>
<li>npm install nanoid &ndash;save</li>
<li>import {nanoid} from &rsquo;nanoid&rsquo;</li>
<li>nanoid()å‡½æ•°çš„è¿”å›å€¼æ˜¯å”¯ä¸€çš„uuid</li>
</ol>
<h2 id="pubsub-js">pubsub-js</h2>
<p>å…„å¼Ÿç»„ä»¶é€šä¿¡</p>
<ol>
<li>npm install pubsub-js &ndash;save</li>
<li>import PubSub from &lsquo;pubsub-js&rsquo; //å¼•å…¥</li>
<li>PubSub.subscribe(&lsquo;delete&rsquo;, function(data){ }); //è®¢é˜…</li>
<li>PubSub.publish(&lsquo;delete&rsquo;, data) //å‘å¸ƒæ¶ˆæ¯</li>
</ol>
<h2 id="antd">antd</h2>
<p>npm install antd &ndash;save</p>
<p>æŒ‰éœ€å¼•å…¥</p>
<ol>
<li>npm install react-app-rewired customize-cra babel-plugin-import &ndash;save</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="p">{</span><span class="nx">override</span><span class="p">,</span> <span class="nx">fixBabelImports</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;customize-cra&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">override</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// æ ¹æ®importï¼ˆä½¿ç”¨babel-plugin-importåŒ…ï¼‰å®ç°æŒ‰éœ€å¼•å…¥æ ·å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">fixBabelImports</span><span class="p">(</span><span class="s1">&#39;import&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">libraryName</span><span class="o">:</span> <span class="s1">&#39;antd&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">libraryDirectory</span><span class="o">:</span> <span class="s1">&#39;es&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">style</span><span class="o">:</span> <span class="s1">&#39;css&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>çœ‹æ–‡æ¡£</p>
<h2 id="store">store</h2>
<p>ç”¨äºåœ¨localstorageä¸­è¿›è¡Œå­˜å‚¨ï¼Œè§£å†³æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜</p>
<h2 id="react-router-dom">react-router-dom</h2>
<p>è·¯ç”±ç»„ä»¶</p>
<h2 id="redux-1">redux</h2>
<p>çŠ¶æ€åŒ–ç®¡ç†</p>
<h2 id="redux-thunk-1">redux-thunk</h2>
<p>å¼‚æ­¥action</p>
<h2 id="react-redux-1">react-redux</h2>
<p>è¿æ¥uiç»„ä»¶ä¸redux</p>
<h1 id="é¡¹ç›®ç›¸å…³">é¡¹ç›®ç›¸å…³</h1>
<h2 id="ç™»å½•çŠ¶æ€ä¿æŒå’Œæƒé™éªŒè¯">ç™»å½•çŠ¶æ€ä¿æŒå’Œæƒé™éªŒè¯</h2>
<ol>
<li>ç™»å½•æˆåŠŸå°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥localstorageï¼Œå¹¶é€šè¿‡reduceræ›´æ–°reduxä¸­çš„storeï¼Œç”¨äº†react-reduxåä¸€æ—¦storeæ›´æ–°ï¼Œç»„ä»¶ä¹Ÿä¼šæ›´æ–°</li>
<li>åœ¨ä»¥åŠè·¯ç”±ç»„ä»¶çš„renderä¸­åˆ¤æ–­å¦‚æœstoreä¸­ç”¨æˆ·å­˜åœ¨ï¼Œç›´æ¥è·³è½¬è‡³ç›¸åº”é¡µé¢ï¼Œå¦åˆ™Redirectè‡³ç™»å½•</li>
</ol>
]]></description>
</item></channel>
</rss>
